!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=122)}([function(e,t,n){"use strict";n(73),n(126),n(38),n(9),n(39),n(41),n(134),Object.defineProperty(t,"__esModule",{value:!0}),t.render=M,t.hydrate=function(e,t){M(e,t,f)},t.h=t.createElement=v,t.Fragment=m,t.createRef=function(){return{}},t.Component=y,t.cloneElement=function(e,t){return t=p(p({},e.props),t),arguments.length>2&&(t.children=s.slice.call(arguments,2)),g(e.type,t,t.key||e.key,t.ref||e.ref)},t.createContext=function(e){var t={},n={__c:"__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=o,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,E(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n},t.toChildArray=x,t._unmount=A,t.options=t.isValidElement=void 0;var r,o,u,i,a,f,c,d={},s=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var r,o,u,i,a=arguments;if(t=p({},t),arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(a[r]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===t[o]&&(t[o]=e.defaultProps[o]);return i=t.key,null!=(u=t.ref)&&delete t.ref,null!=i&&delete t.key,g(e,t,i,u)}function g(e,t,n,o){var u={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(u),u}function m(e){return e.children}function y(e,t){this.props=e,this.context=t}function b(e,t){if(null==t)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?b(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function E(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||a!==r.debounceRendering)&&((a=r.debounceRendering)||i)(w)}function w(){var e,t,n,r,o,i,a;for(u.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=u.pop();)e.__d&&(n=void 0,r=void 0,i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],r=P(a,o,p({},o),t.__n,void 0!==a.ownerSVGElement,null,n,null==i?b(o):i),k(n,o),r!=i&&_(o)))}function S(e,t,n,r,o,u,i,a,f){var c,l,p,v,g,m,y,_=n&&n.__k||s,E=_.length;if(a==d&&(a=null!=u?u[0]:E?b(n,0):null),c=0,t.__k=x(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(p=_[c])||p&&n.key==p.key&&n.type===p.type)_[c]=void 0;else for(l=0;l<E;l++){if((p=_[l])&&n.key==p.key&&n.type===p.type){_[l]=void 0;break}p=null}if(v=P(e,n,p=p||d,r,o,u,i,a,f),(l=n.ref)&&p.ref!=l&&(y||(y=[]),p.ref&&y.push(p.ref,null,n),y.push(l,n.__c||v,n)),null!=v){if(null==m&&(m=v),null!=n.__d)v=n.__d,n.__d=null;else if(u==p||v!=a||null==v.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(v);else{for(g=a,l=0;(g=g.nextSibling)&&l<E;l+=2)if(g==v)break e;e.insertBefore(v,a)}"option"==t.type&&(e.value="")}a=v.nextSibling,"function"==typeof t.type&&(t.__d=v)}}return c++,n})),t.__e=m,null!=u&&"function"!=typeof t.type)for(c=u.length;c--;)null!=u[c]&&h(u[c]);for(c=E;c--;)null!=_[c]&&A(_[c],_[c]);if(y)for(c=0;c<y.length;c++)C(y[c],y[++c],y[++c])}function x(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)x(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?g(null,e,null,null):null!=e.__e||null!=e.__c?g(e.type,e.props,e.key,null):e):e);return n}function O(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===l.test(t)?n+"px":null==n?"":n}function j(e,t,n,r,o){var u,i,a,f,c;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(u=e.style,"string"==typeof n)u.cssText=n;else{if("string"==typeof r&&(u.cssText="",r=null),r)for(i in r)n&&i in n||O(u,i,"");if(n)for(a in n)r&&n[a]===r[a]||O(u,a,n[a])}else"o"===t[0]&&"n"===t[1]?(f=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),n?(r||e.addEventListener(t,T,f),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,T,f)):"list"!==t&&"tagName"!==t&&"form"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function T(e){this.l[e.type](r.event?r.event(e):e)}function P(e,t,n,o,u,i,a,f,c){var d,s,l,h,v,g,b,_,E,w,O=t.type;if(void 0!==t.constructor)return null;(d=r.__b)&&d(t);try{e:if("function"==typeof O){if(_=t.props,E=(d=O.contextType)&&o[d.__c],w=d?E?E.props.value:d.__:o,n.__c?b=(s=t.__c=n.__c).__=s.__E:("prototype"in O&&O.prototype.render?t.__c=s=new O(_,w):(t.__c=s=new y(_,w),s.constructor=O,s.render=I),E&&E.sub(s),s.props=_,s.state||(s.state={}),s.context=w,s.__n=o,l=s.__d=!0,s.__h=[]),null==s.__s&&(s.__s=s.state),null!=O.getDerivedStateFromProps&&(s.__s==s.state&&(s.__s=p({},s.__s)),p(s.__s,O.getDerivedStateFromProps(_,s.__s))),h=s.props,v=s.state,l)null==O.getDerivedStateFromProps&&null!=s.componentWillMount&&s.componentWillMount(),null!=s.componentDidMount&&s.__h.push(s.componentDidMount);else{if(null==O.getDerivedStateFromProps&&null==s.__e&&null!=s.componentWillReceiveProps&&s.componentWillReceiveProps(_,w),!s.__e&&null!=s.shouldComponentUpdate&&!1===s.shouldComponentUpdate(_,s.__s,w)){for(s.props=_,s.state=s.__s,s.__d=!1,s.__v=t,t.__e=n.__e,t.__k=n.__k,s.__h.length&&a.push(s),d=0;d<t.__k.length;d++)t.__k[d]&&(t.__k[d].__=t);break e}null!=s.componentWillUpdate&&s.componentWillUpdate(_,s.__s,w),null!=s.componentDidUpdate&&s.__h.push((function(){s.componentDidUpdate(h,v,g)}))}s.context=w,s.props=_,s.state=s.__s,(d=r.__r)&&d(t),s.__d=!1,s.__v=t,s.__P=e,d=s.render(s.props,s.state,s.context),t.__k=x(null!=d&&d.type==m&&null==d.key?d.props.children:d),null!=s.getChildContext&&(o=p(p({},o),s.getChildContext())),l||null==s.getSnapshotBeforeUpdate||(g=s.getSnapshotBeforeUpdate(h,v)),S(e,t,n,o,u,i,a,f,c),s.base=t.__e,s.__h.length&&a.push(s),b&&(s.__E=s.__=null),s.__e=null}else t.__e=N(n.__e,t,n,o,u,i,a,c);(d=r.diffed)&&d(t)}catch(e){r.__e(e,t,n)}return t.__e}function k(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function N(e,t,n,r,o,u,i,a){var f,c,l,p,h,v=n.props,g=t.props;if(o="svg"===t.type||o,null==e&&null!=u)for(f=0;f<u.length;f++)if(null!=(c=u[f])&&(null===t.type?3===c.nodeType:c.localName===t.type)){e=c,u[f]=null;break}if(null==e){if(null===t.type)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),u=null}if(null===t.type)null!=u&&(u[u.indexOf(e)]=null),v!==g&&(e.data=g);else if(t!==n){if(null!=u&&(u=s.slice.call(e.childNodes)),l=(v=n.props||d).dangerouslySetInnerHTML,p=g.dangerouslySetInnerHTML,!a){if(v===d)for(v={},h=0;h<e.attributes.length;h++)v[e.attributes[h].name]=e.attributes[h].value;(p||l)&&(p&&l&&p.__html==l.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,o){var u;for(u in n)u in t||j(e,u,null,n[u],r);for(u in t)o&&"function"!=typeof t[u]||"value"===u||"checked"===u||n[u]===t[u]||j(e,u,t[u],n[u],r)})(e,g,v,o,a),t.__k=t.props.children,p||S(e,t,n,r,"foreignObject"!==t.type&&o,u,i,d,a),a||("value"in g&&void 0!==g.value&&g.value!==e.value&&(e.value=null==g.value?"":g.value),"checked"in g&&void 0!==g.checked&&g.checked!==e.checked&&(e.checked=g.checked))}return e}function C(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function A(e,t,n){var o,u,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&C(o,null,t),n||"function"==typeof e.type||(n=null!=(u=e.__e)),e.__e=e.__d=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&A(o[i],t,n);null!=u&&h(u)}function I(e,t,n){return this.constructor(e,n)}function M(e,t,n){var o,u,i;r.__&&r.__(e,t),u=(o=n===f)?null:n&&n.__k||t.__k,e=v(m,null,[e]),i=[],P(t,(o?t:n||t).__k=e,u||d,d,void 0!==t.ownerSVGElement,n&&!o?[n]:u?null:s.slice.call(t.childNodes),i,n||d,o),k(i,e)}t.isValidElement=o,t.options=r,t.options=r={__e:function(e,t){for(var n;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(e));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(e)}return E(n.__E=n)}catch(t){e=t}throw e}},t.isValidElement=o=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&p(n,e),null!=e&&this.__v&&(this.__e=!1,t&&this.__h.push(t),E(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},y.prototype.render=m,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=d,c=0},function(e,t,n){var r=n(2),o=n(30),u=n(58),i=n(81),a=r.Symbol,f=o("wks");e.exports=function(e){return f[e]||(f[e]=i&&a[e]||(i?a:u)("Symbol."+e))}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(74))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(2),o=n(29).f,u=n(11),i=n(15),a=n(57),f=n(77),c=n(62);e.exports=function(e,t){var n,d,s,l,p,h=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[h]||a(h,{}):(r[h]||{}).prototype)for(d in t){if(l=t[d],s=e.noTargetGet?(p=o(n,d))&&p.value:n[d],!c(v?d:h+(g?".":"#")+d,e.forced)&&void 0!==s){if(typeof l==typeof s)continue;f(l,s)}(e.sham||s&&s.sham)&&u(l,"sham",!0),i(n,d,l,e)}}},function(e,t,n){"use strict";n(159);var r=n(0);function o(e,t){for(var n in t)e[n]=t[n];return e}function u(e){this.getChildContext=function(){return{store:e.store}}}u.prototype.render=function(e){return e.children&&e.children[0]||e.children},t.connect=function(e,t){var n;return"function"!=typeof e&&("string"==typeof(n=e||{})&&(n=n.split(/\s*,\s*/)),e=function(e){for(var t={},r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}),function(n){function u(u,i){var a=this,f=i.store,c=e(f?f.getState():{},u),d=t?function(e,t){"function"==typeof e&&(e=e(t));var n={};for(var r in e)n[r]=t.action(e[r]);return n}(t,f):{store:f},s=function(){var t=e(f?f.getState():{},u);for(var n in t)if(t[n]!==c[n])return c=t,a.setState({});for(var r in c)if(!(r in t))return c=t,a.setState({})};this.componentWillReceiveProps=function(e){u=e,s()},this.componentDidMount=function(){f.subscribe(s)},this.componentWillUnmount=function(){f.unsubscribe(s)},this.render=function(e){return r.h(n,o(o(o({},d),e),c))}}return(u.prototype=new r.Component).constructor=u}},t.Provider=u},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(3);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(15),o=n(127),u=Object.prototype;o!==u.toString&&r(u,"toString",o,{unsafe:!0})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(8),o=n(12),u=n(33);e.exports=r?function(e,t,n){return o.f(e,t,u(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(8),o=n(75),u=n(7),i=n(44),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(u(e),t=i(t,!0),u(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n(17),n(18),n(21),n(28),n(139),n(140),n(102),n(19),n(70),n(145),n(146),n(107),n(9),n(39),n(108),n(53),n(22),n(32),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.actions=void 0,n(148);var r=s(n(149)),o=s(n(156)),u=s(n(111)),i=n(71),a=s(n(112)),f=s(n(157)),c=s(n(158)),d=n(113);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,o.default)(h({socket:null,agentIsTyping:!1,isNewChat:!0,greetingTimeout:null,chatIframeState:"closed",translates:{},messages:[],preChatUrl:null,url:null,fingerprint:null,chadId:null,chatRate:null,agent:null,validations:{},nextGreeting:null,greetingCookie:null,needToSetGreetingCookie:!0,appState:"greeting"},f.default,{},c.default));t.actions=function(e){return{assignDataToStore:function(e,t){return Object.assign(e,t)},setIsNewChat:function(e){return{isNewChat:0===e.messages.length}},setChatIframeState:function(e,t){return{chatIframeState:t}},toggleEmojiPanel:function(e){return{emojiPanelVisible:!e.emojiPanelVisible}},chooseEmojiCategory:function(e,t){return{activeEmojiTab:t}},showEmojiPanel:function(){return{emojiPanelVisible:!0}},hideEmojiPanel:function(){return{emojiPanelVisible:!1}},setUIAppState:function(e,t){return{appState:t}},processUIAppState:function(e){var t=e.isNewChat,n=e.preChatUrl;return{appState:t?n?"prechat":"greeting":"active-chat"}},setAgentIsTyping:function(e,t){return{agentIsTyping:t}},initiateConnectToSocket:function(e){return e.socket.connect()},removeSocketObj:function(e){var t=e.socket;return t&&t.close(),{socket:null}},refreshSocket:function(e){var t=e.isNewChat,n=e.preChatUrl,r=e.nextGreeting;this.removeSocketObj(),this.createSocketObj(),this.attachSocketListeners(),(!t||t&&n||r)&&this.initiateConnectToSocket()},createSocketObj:function(e){var t=e.socketUrl;return{socket:new r.default(t)}},attachSocketListeners:function(t){var n=this,r=(t.isNewChat,e.getState()),o=r.EVENT_MESSAGE_ACCEPTED,u=r.EVENT_PIXEL_ACCEPTED,i=r.EVENT_START_TYPING,f=r.EVENT_UNREAD_MESSAGES,c=r.EVENT_END_TYPING,d=r.EVENT_AGENT_JOINED,s=r.EVENT_AGENT_LEFT,l=r.chatId;r.socket.onConnect((function(t){t.subscribe("".concat(l,"::message"),(function(t){var r=e.getState(),u=r.agent,i=r.baseUrl;"admin"===t.from&&a.default.post(o,{text:t.text,src:u?"".concat(i,"/").concat(u.agentAvatar):null}),r.isNewChat&&(n.setUIAppState("active-chat"),e.setState({isNewChat:!1})),n.insertOrUpdateMessage(t)})),t.subscribe("".concat(l,"::").concat(u),(function(e){a.default.post(u,e)})),t.subscribe("".concat(l,"::").concat(i),(function(e){n.setAgentIsTyping(!0)})),t.subscribe("".concat(l,"::").concat(f),(function(e){a.default.post(f,e)})),t.subscribe("".concat(l,"::").concat(c),(function(e){n.setAgentIsTyping(!1)})),t.subscribe("".concat(l,"::").concat(d),(function(e){n.setAgent(e)})),t.subscribe("".concat(l,"::").concat(s),(function(e){n.setAgentIsTyping(!1),n.dropAgent()}))}))},setGreetingTimeout:function(e){var t=this,n=e.nextGreeting;if(null!==n){var r=n.message,o=n.id,u=n.delay;return{greetingTimeout:setTimeout((function(){t.updateGreeting(o).finally((function(){t.setGreetingCookie(o),t.sendMessage({text:r,type:"message",author:"admin",noReply:1,isSystem:0,isCallToAction:1})}))}),1e3*u)}}},updateGreeting:function(t,n){var r=this;return u.default.ajaxJSON(d.API_UPDATE_GREETING_ACTION,{callToActionId:n}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(t){t&&(r.removeGreetingTimeout(),e.setState({nextGreeting:t}),r.setGreetingTimeout())})).catch((function(e){console.log("Cant get json from response.")}))},removeGreetingTimeout:function(e){var t=e.greetingTimeout;return t&&clearTimeout(t),{greetingTimeout:null}},sendMessage:function(e,t){var n=e.messages;"guest"===t.author&&this.removeGreetingTimeout(),0===n.length?this.initiateConnectToSocket().then((function(){u.default.ajaxJSON(d.API_SEND_MESSAGE,h({},t))})):u.default.ajaxJSON(d.API_SEND_MESSAGE,h({},t))},insertOrUpdateMessage:function(e,t){var n=e.messages,r=n.findIndex((function(e){return e.id===t.id}));if(r>=0){var o=l(n);return o[r]=t,{messages:o}}return{messages:[].concat(l(n),[t])}},readMessages:function(e){e.chatId&&u.default.ajaxJSON(d.API_READ_MESSAGE)},getChatDefaults:function(t){var n,r,o,a,f=this;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.ip,r=t.url,o=t.fingerprint,a=new Date,c.next=4,regeneratorRuntime.awrap(this.getGreetingCookie());case 4:return c.next=6,regeneratorRuntime.awrap(u.default.ajaxJSON(d.API_REFRESH_DETAILS,{ip:n,url:r,fingerprint:o,userAgent:navigator.userAgent,timestamp:a.getTime(),timeOffset:a.getTimezoneOffset(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}).then((function(e){if(!e.ok)throw new Error("Wrong response, cant fetch chat data.");return e.json()})).then((function(t){var n=e.getState();Object.assign(n,{needToSetGreetingCookie:!0},t),e.setState(n),f.setIsNewChat(),f.setChatId(n),f.processUIAppState();var o=(0,i.getInfoFromLocalStorage)(),a=o&&o.url;a&&a!==r&&u.default.ajaxJSON(d.API_CURRENT_URL,{url:r}),(0,i.saveInfoToLocalStorage)({url:r}),f.refreshSocket();var c=e.getState();c.nextGreeting&&c.nextGreeting.id!==parseInt(c.greetingCookie,10)&&f.setGreetingTimeout()})));case 6:case"end":return c.stop()}}),null,this)},endChat:function(t){var n=this,r=t.EVENT_UPDATE_CHAT_ID;(0,i.removeInfoFromLocalStorage)(),this.removeGreetingTimeout(),a.default.post(r,{chatId:null}),u.default.ajaxJSON(d.API_END_CHAT).then((function(){e.setState({chatId:null}),n.getChatDefaults()}))},closeChat:function(e){var t=e.chatId,n=e.EVENT_CLOSE_CHAT;a.default.post(n,{chatId:t})},setChatId:function(e){var t=e.EVENT_UPDATE_CHAT_ID,n=e.chatId;return a.default.post(t,{chatId:n}),{chatId:n}},setAgent:function(e,t){return{agent:t.message.agent}},dropAgent:function(){return{agent:null}},rateAgent:function(e,t,n,r){var o=Object.assign({},e.agent);return o.rate=t,o.feedback=n,u.default.ajaxJSON(d.API_RATE,{rate:t,comment:n,isRatePage:r}),this.readMessages(),{agent:o}},getGreetingCookie:function(){var t=e.getState(),n=t.EVENT_GET_GREETING_COOKIE,r=t.EVENT_GREETING_COOKIE;return new Promise((function(t,o){window.addEventListener("message",(function(n){var o=JSON.parse(n.data);if(o.event===r){var u=o.data.greetingCookie;e.setState({greetingCookie:u}),t()}})),a.default.post(n)}))},setGreetingCookie:function(t,n){var r=e.getState(),o=r.greetingCookie,u=r.EVENT_SET_GREETING_COOKIE;r.needToSetGreetingCookie&&!o&&(a.default.post(u,{greetingCookie:n}),e.setState({needToSetGreetingCookie:!1}))},setClientIp:function(){return u.default.getAjax(d.API_GET_IP,{}).then((function(e){return e.ok||console.error(e),e.json()})).then((function(t){void 0!==t&&void 0!==t.ip&&e.setState({ip:t.ip})}))}}};var m=g;t.default=m},function(e,t,n){var r=n(43),o=n(26);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(2),o=n(30),u=n(11),i=n(10),a=n(57),f=n(76),c=n(34),d=c.get,s=c.enforce,l=String(f).split("toString");o("inspectSource",(function(e){return f.call(e)})),(e.exports=function(e,t,n,o){var f=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,d=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||u(n,"name",t),s(n).source=l.join("string"==typeof t?t:"")),e!==r?(f?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:u(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||f.call(this)}))},function(e,t,n){var r=n(26);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(4),o=n(2),u=n(27),i=n(31),a=n(8),f=n(81),c=n(3),d=n(10),s=n(48),l=n(6),p=n(7),h=n(16),v=n(14),g=n(44),m=n(33),y=n(68),b=n(52),_=n(47),E=n(138),w=n(61),S=n(29),x=n(12),O=n(55),j=n(11),T=n(15),P=n(30),k=n(45),N=n(46),C=n(58),A=n(1),I=n(99),M=n(100),L=n(49),D=n(34),R=n(42).forEach,G=k("hidden"),H=A("toPrimitive"),F=D.set,U=D.getterFor("Symbol"),V=Object.prototype,q=o.Symbol,z=u("JSON","stringify"),B=S.f,J=x.f,W=E.f,$=O.f,K=P("symbols"),Y=P("op-symbols"),Z=P("string-to-symbol-registry"),X=P("symbol-to-string-registry"),Q=P("wks"),ee=o.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=a&&c((function(){return 7!=y(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=B(V,t);r&&delete V[t],J(e,t,n),r&&e!==V&&J(V,t,r)}:J,re=function(e,t){var n=K[e]=y(q.prototype);return F(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},oe=f&&"symbol"==typeof q.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ue=function(e,t,n){e===V&&ue(Y,t,n),p(e);var r=g(t,!0);return p(n),d(K,r)?(n.enumerable?(d(e,G)&&e[G][r]&&(e[G][r]=!1),n=y(n,{enumerable:m(0,!1)})):(d(e,G)||J(e,G,m(1,{})),e[G][r]=!0),ne(e,r,n)):J(e,r,n)},ie=function(e,t){p(e);var n=v(t),r=b(n).concat(de(n));return R(r,(function(t){a&&!ae.call(n,t)||ue(e,t,n[t])})),e},ae=function(e){var t=g(e,!0),n=$.call(this,t);return!(this===V&&d(K,t)&&!d(Y,t))&&(!(n||!d(this,t)||!d(K,t)||d(this,G)&&this[G][t])||n)},fe=function(e,t){var n=v(e),r=g(t,!0);if(n!==V||!d(K,r)||d(Y,r)){var o=B(n,r);return!o||!d(K,r)||d(n,G)&&n[G][r]||(o.enumerable=!0),o}},ce=function(e){var t=W(v(e)),n=[];return R(t,(function(e){d(K,e)||d(N,e)||n.push(e)})),n},de=function(e){var t=e===V,n=W(t?Y:v(e)),r=[];return R(n,(function(e){!d(K,e)||t&&!d(V,e)||r.push(K[e])})),r};(f||(T((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=C(e),n=function(e){this===V&&n.call(Y,e),d(this,G)&&d(this[G],t)&&(this[G][t]=!1),ne(this,t,m(1,e))};return a&&te&&ne(V,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return U(this).tag})),O.f=ae,x.f=ue,S.f=fe,_.f=E.f=ce,w.f=de,a&&(J(q.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),i||T(V,"propertyIsEnumerable",ae,{unsafe:!0})),I.f=function(e){return re(A(e),e)}),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:q}),R(b(Q),(function(e){M(e)})),r({target:"Symbol",stat:!0,forced:!f},{for:function(e){var t=String(e);if(d(Z,t))return Z[t];var n=q(t);return Z[t]=n,X[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(d(X,e))return X[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!a},{create:function(e,t){return void 0===t?y(e):ie(y(e),t)},defineProperty:ue,defineProperties:ie,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:ce,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:c((function(){w.f(1)}))},{getOwnPropertySymbols:function(e){return w.f(h(e))}}),z)&&r({target:"JSON",stat:!0,forced:!f||c((function(){var e=q();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],u=1;arguments.length>u;)o.push(arguments[u++]);if(r=t,(l(t)||void 0!==e)&&!oe(e))return s(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!oe(t))return t}),o[1]=t,z.apply(null,o)}});q.prototype[H]||j(q.prototype,H,q.prototype.valueOf),L(q,"Symbol"),N[G]=!0},function(e,t,n){"use strict";var r=n(4),o=n(8),u=n(2),i=n(10),a=n(6),f=n(12).f,c=n(77),d=u.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var s={},l=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof l?new d(e):void 0===e?d():d(e);return""===e&&(s[t]=!0),t};c(l,d);var p=l.prototype=d.prototype;p.constructor=l;var h=p.toString,v="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;f(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=h.call(e);if(i(s,e))return"";var n=v?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:l})}},function(e,t,n){"use strict";var r=n(14),o=n(101),u=n(40),i=n(34),a=n(103),f=i.set,c=i.getterFor("Array Iterator");e.exports=a(Array,"Array",(function(e,t){f(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),u.Arguments=u.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(35),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){n(100)("iterator")},function(e,t,n){"use strict";var r=n(97).charAt,o=n(34),u=n(103),i=o.set,a=o.getterFor("String Iterator");u(String,"String",(function(e){i(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=a(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(2),o=n(109),u=n(19),i=n(11),a=n(1),f=a("iterator"),c=a("toStringTag"),d=u.values;for(var s in o){var l=r[s],p=l&&l.prototype;if(p){if(p[f]!==d)try{i(p,f,d)}catch(e){p[f]=d}if(p[c]||i(p,c,s),o[s])for(var h in u)if(p[h]!==u[h])try{i(p,h,u[h])}catch(e){p[h]=u[h]}}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(4),o=n(3),u=n(16),i=n(69),a=n(105);r({target:"Object",stat:!0,forced:o((function(){i(1)})),sham:!a},{getPrototypeOf:function(e){return i(u(e))}})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(79),o=n(2),u=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?u(r[e])||u(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){"use strict";var r=n(4),o=n(3),u=n(48),i=n(6),a=n(16),f=n(20),c=n(36),d=n(64),s=n(37),l=n(1),p=n(63),h=l("isConcatSpreadable"),v=p>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=s("concat"),m=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:u(e)};r({target:"Array",proto:!0,forced:!v||!g},{concat:function(e){var t,n,r,o,u,i=a(this),s=d(i,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(u=-1===t?i:arguments[t],m(u)){if(l+(o=f(u.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,l++)n in u&&c(s,l,u[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(s,l++,u)}return s.length=l,s}})},function(e,t,n){var r=n(8),o=n(55),u=n(33),i=n(14),a=n(44),f=n(10),c=n(75),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=i(e),t=a(t,!0),c)try{return d(e,t)}catch(e){}if(f(e,t))return u(!o.f.call(e,t),e[t])}},function(e,t,n){var r=n(31),o=n(123);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var r=n(2),o=n(109),u=n(147),i=n(11);for(var a in o){var f=r[a],c=f&&f.prototype;if(c&&c.forEach!==u)try{i(c,"forEach",u)}catch(e){c.forEach=u}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r,o,u,i=n(124),a=n(2),f=n(6),c=n(11),d=n(10),s=n(45),l=n(46),p=a.WeakMap;if(i){var h=new p,v=h.get,g=h.has,m=h.set;r=function(e,t){return m.call(h,e,t),t},o=function(e){return v.call(h,e)||{}},u=function(e){return g.call(h,e)}}else{var y=s("state");l[y]=!0,r=function(e,t){return c(e,y,t),t},o=function(e){return d(e,y)?e[y]:{}},u=function(e){return d(e,y)}}e.exports={set:r,get:o,has:u,enforce:function(e){return u(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!f(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(44),o=n(12),u=n(33);e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,u(0,n)):e[i]=n}},function(e,t,n){var r=n(3),o=n(1),u=n(63),i=o("species");e.exports=function(e){return u>=51||!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(8),o=n(12).f,u=Function.prototype,i=u.toString,a=/^\s*function ([^ (]*)/;!r||"name"in u||o(u,"name",{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r,o,u,i,a=n(4),f=n(31),c=n(2),d=n(27),s=n(84),l=n(15),p=n(128),h=n(30),v=n(49),g=n(85),m=n(6),y=n(50),b=n(129),_=n(24),E=n(130),w=n(89),S=n(65),x=n(90).set,O=n(131),j=n(93),T=n(132),P=n(94),k=n(133),N=n(34),C=n(62),A=n(1),I=n(63),M=A("species"),L="Promise",D=N.get,R=N.set,G=N.getterFor(L),H=s,F=c.TypeError,U=c.document,V=c.process,q=h("inspectSource"),z=d("fetch"),B=P.f,J=B,W="process"==_(V),$=!!(U&&U.createEvent&&c.dispatchEvent),K=C(L,(function(){var e=q(H)!==String(H);if(66===I)return!0;if(!e&&!W&&"function"!=typeof PromiseRejectionEvent)return!0;if(f&&!H.prototype.finally)return!0;if(I>=51&&/native code/.test(H))return!1;var t=H.resolve(1),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[M]=n,!(t.then((function(){}))instanceof n)})),Y=K||!w((function(e){H.all(e).catch((function(){}))})),Z=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;O((function(){for(var o=t.value,u=1==t.state,i=0;r.length>i;){var a,f,c,d=r[i++],s=u?d.ok:d.fail,l=d.resolve,p=d.reject,h=d.domain;try{s?(u||(2===t.rejection&&ne(e,t),t.rejection=1),!0===s?a=o:(h&&h.enter(),a=s(o),h&&(h.exit(),c=!0)),a===d.promise?p(F("Promise-chain cycle")):(f=Z(a))?f.call(a,l,p):l(a)):p(o)}catch(e){h&&!c&&h.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)}))}},Q=function(e,t,n){var r,o;$?((r=U.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(o=c["on"+e])?o(r):"unhandledrejection"===e&&T("Unhandled promise rejection",n)},ee=function(e,t){x.call(c,(function(){var n,r=t.value;if(te(t)&&(n=k((function(){W?V.emit("unhandledRejection",r,e):Q("unhandledrejection",e,r)})),t.rejection=W||te(t)?2:1,n.error))throw n.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){x.call(c,(function(){W?V.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},re=function(e,t,n,r){return function(o){e(t,n,o,r)}},oe=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,X(e,t,!0))},ue=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw F("Promise can't be resolved itself");var o=Z(n);o?O((function(){var r={done:!1};try{o.call(n,re(ue,e,r,t),re(oe,e,r,t))}catch(n){oe(e,r,n,t)}})):(t.value=n,t.state=1,X(e,t,!1))}catch(n){oe(e,{done:!1},n,t)}}};K&&(H=function(e){b(this,H,L),y(e),r.call(this);var t=D(this);try{e(re(ue,this,t),re(oe,this,t))}catch(e){oe(this,t,e)}},(r=function(e){R(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(H.prototype,{then:function(e,t){var n=G(this),r=B(S(this,H));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=W?V.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=D(e);this.promise=e,this.resolve=re(ue,e,t),this.reject=re(oe,e,t)},P.f=B=function(e){return e===H||e===u?new o(e):J(e)},f||"function"!=typeof s||(i=s.prototype.then,l(s.prototype,"then",(function(e,t){var n=this;return new H((function(e,t){i.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof z&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return j(H,z.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:K},{Promise:H}),v(H,L,!1,!0),g(L),u=d(L),a({target:L,stat:!0,forced:K},{reject:function(e){var t=B(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:f||K},{resolve:function(e){return j(f&&this===u?H:this,e)}}),a({target:L,stat:!0,forced:Y},{all:function(e){var t=this,n=B(t),r=n.resolve,o=n.reject,u=k((function(){var n=y(t.resolve),u=[],i=0,a=1;E(e,(function(e){var f=i++,c=!1;u.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,u[f]=e,--a||r(u))}),o)})),--a||r(u)}));return u.error&&o(u.value),n.promise},race:function(e){var t=this,n=B(t),r=n.reject,o=k((function(){var o=y(t.resolve);E(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(95),o=n(7),u=n(16),i=n(20),a=n(35),f=n(26),c=n(96),d=n(98),s=Math.max,l=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n){return[function(n,r){var o=f(this),u=null==n?void 0:n[e];return void 0!==u?u.call(n,o,r):t.call(String(o),n,r)},function(e,u){var f=n(t,e,this,u);if(f.done)return f.value;var p=o(e),h=String(this),v="function"==typeof u;v||(u=String(u));var g=p.global;if(g){var m=p.unicode;p.lastIndex=0}for(var y=[];;){var b=d(p,h);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(p.lastIndex=c(h,i(p.lastIndex),m))}for(var _,E="",w=0,S=0;S<y.length;S++){b=y[S];for(var x=String(b[0]),O=s(l(a(b.index),h.length),0),j=[],T=1;T<b.length;T++)j.push(void 0===(_=b[T])?_:String(_));var P=b.groups;if(v){var k=[x].concat(j,O,h);void 0!==P&&k.push(P);var N=String(u.apply(void 0,k))}else N=r(x,h,O,j,P,u);O>=w&&(E+=h.slice(w,O)+N,w=O+x.length)}return E+h.slice(w)}];function r(e,n,r,o,i,a){var f=r+e.length,c=o.length,d=v;return void 0!==i&&(i=u(i),d=h),t.call(a,d,(function(t,u){var a;switch(u.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(f);case"<":a=i[u.slice(1,-1)];break;default:var d=+u;if(0===d)return t;if(d>c){var s=p(d/10);return 0===s?t:s<=c?void 0===o[s-1]?u.charAt(1):o[s-1]+u.charAt(1):t}a=o[d-1]}return void 0===a?"":a}))}}))},function(e,t,n){var r=n(51),o=n(43),u=n(16),i=n(20),a=n(64),f=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,d=4==e,s=6==e,l=5==e||s;return function(p,h,v,g){for(var m,y,b=u(p),_=o(b),E=r(h,v,3),w=i(_.length),S=0,x=g||a,O=t?x(p,w):n?x(p,0):void 0;w>S;S++)if((l||S in _)&&(y=E(m=_[S],S,b),e))if(t)O[S]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:f.call(O,m)}else if(d)return!1;return s?-1:c||d?d:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(3),o=n(24),u="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?u.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(30),o=n(58),u=r("keys");e.exports=function(e){return u[e]||(u[e]=o(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(80),o=n(60).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12).f,o=n(10),u=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,u)&&r(e,u,{configurable:!0,value:t})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(50);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(80),o=n(60);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(15),o=n(7),u=n(3),i=n(67),a=RegExp.prototype,f=a.toString,c=u((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),d="toString"!=f.name;(c||d)&&r(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in a)?i.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var r=n(4),o=n(42).map;r({target:"Array",proto:!0,forced:!n(37)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!r.call({1:2},1);t.f=u?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(2),o=n(6),u=r.document,i=o(u)&&o(u.createElement);e.exports=function(e){return i?u.createElement(e):{}}},function(e,t,n){var r=n(2),o=n(11);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(35),o=Math.max,u=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):u(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(3),o=/#|\.prototype\./,u=function(e,t){var n=a[i(e)];return n==c||n!=f&&("function"==typeof t?r(t):!!t)},i=u.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=u.data={},f=u.NATIVE="N",c=u.POLYFILL="P";e.exports=u},function(e,t,n){var r,o,u=n(2),i=n(82),a=u.process,f=a&&a.versions,c=f&&f.v8;c?o=(r=c.split("."))[0]+r[1]:i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r=n(6),o=n(48),u=n(1)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[u])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(7),o=n(50),u=n(1)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[u])?t:o(n)}},function(e,t,n){"use strict";var r,o,u=n(67),i=RegExp.prototype.exec,a=String.prototype.replace,f=i,c=(r=/a/,o=/b*/g,i.call(r,"a"),i.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),d=void 0!==/()??/.exec("")[1];(c||d)&&(f=function(e){var t,n,r,o,f=this;return d&&(n=new RegExp("^"+f.source+"$(?!\\s)",u.call(f))),c&&(t=f.lastIndex),r=i.call(f,e),c&&r&&(f.lastIndex=f.global?r.index+r[0].length:t),d&&r&&r.length>1&&a.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=f},function(e,t,n){"use strict";var r=n(7);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(7),o=n(137),u=n(60),i=n(46),a=n(91),f=n(56),c=n(45)("IE_PROTO"),d=function(){},s=function(){var e,t=f("iframe"),n=u.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;n--;)delete s.prototype[u[n]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[c]=e):n=s(),void 0===t?n:o(n,t)},i[c]=!0},function(e,t,n){var r=n(10),o=n(16),u=n(45),i=n(105),a=u("IE_PROTO"),f=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?f:null}},function(e,t,n){var r=n(4),o=n(144);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){"use strict";n(70),Object.defineProperty(t,"__esModule",{value:!0}),t.removeInfoFromLocalStorage=t.saveInfoToLocalStorage=t.getInfoFromLocalStorage=void 0;var r,o=(r=n(13))&&r.__esModule?r:{default:r};var u=function(){var e=o.default.getState().chatId;return JSON.parse(localStorage.getItem("chatData::".concat(e)))};t.getInfoFromLocalStorage=u;t.saveInfoToLocalStorage=function(e){var t=o.default.getState(),n=t.chatId,r=t.appState,i=u();i=Object.assign({},i,{appState:r},e),localStorage.setItem("chatData::".concat(n),JSON.stringify(i))};t.removeInfoFromLocalStorage=function(){var e=o.default.getState().chatId;localStorage.removeItem("chatData::".concat(e))}},function(e,t,n){"use strict";n(17),n(18),n(21),n(19),n(38),n(25),n(9),n(22),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(o=[{key:"messageDate",value:function(){return new Date(1e3*this.props.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},{key:"render",value:function(){return(0,r.h)("div",{className:"message-info"},(0,r.h)("span",{className:"message-info__date"},this.messageDate()),this.props.author&&(0,r.h)("span",{className:"message-info__separator"},"|"),this.props.author&&(0,r.h)("span",{className:"message-info__author-name"},this.props.author.name))}}])&&u(n.prototype,o),c&&u(n,c),t}(r.Component);t.default=c},function(e,t,n){"use strict";var r=n(4),o=n(6),u=n(48),i=n(59),a=n(20),f=n(14),c=n(36),d=n(37),s=n(1)("species"),l=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!d("slice")},{slice:function(e,t){var n,r,d,h=f(this),v=a(h.length),g=i(e,v),m=i(void 0===t?v:t,v);if(u(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!u(n.prototype)?o(n)&&null===(n=n[s])&&(n=void 0):n=void 0,n===Array||void 0===n))return l.call(h,g,m);for(r=new(void 0===n?Array:n)(p(m-g,0)),d=0;g<m;g++,d++)g in h&&c(r,d,h[g]);return r.length=d,r}})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(8),o=n(3),u=n(56);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(30);e.exports=r("native-function-to-string",Function.toString)},function(e,t,n){var r=n(10),o=n(78),u=n(29),i=n(12);e.exports=function(e,t){for(var n=o(t),a=i.f,f=u.f,c=0;c<n.length;c++){var d=n[c];r(e,d)||a(e,d,f(t,d))}}},function(e,t,n){var r=n(27),o=n(47),u=n(61),i=n(7);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(i(e)),n=u.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(2)},function(e,t,n){var r=n(10),o=n(14),u=n(125).indexOf,i=n(46);e.exports=function(e,t){var n,a=o(e),f=0,c=[];for(n in a)!r(i,n)&&r(a,n)&&c.push(n);for(;t.length>f;)r(a,n=t[f++])&&(~u(c,n)||c.push(n));return c}},function(e,t,n){var r=n(3);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(27);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(24),o=n(1)("toStringTag"),u="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:u?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var r=n(2);e.exports=r.Promise},function(e,t,n){"use strict";var r=n(27),o=n(12),u=n(1),i=n(8),a=u("species");e.exports=function(e){var t=r(e),n=o.f;i&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(1),o=n(40),u=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[u]===e)}},function(e,t,n){var r=n(83),o=n(40),u=n(1)("iterator");e.exports=function(e){if(null!=e)return e[u]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(7);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var u=e.return;throw void 0!==u&&r(u.call(e)),t}}},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var u=0,i={next:function(){return{done:!!u++}},return:function(){o=!0}};i[r]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var u={};u[r]=function(){return{next:function(){return{done:n=!0}}}},e(u)}catch(e){}return n}},function(e,t,n){var r,o,u,i=n(2),a=n(3),f=n(24),c=n(51),d=n(91),s=n(56),l=n(92),p=i.location,h=i.setImmediate,v=i.clearImmediate,g=i.process,m=i.MessageChannel,y=i.Dispatch,b=0,_={},E=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},w=function(e){return function(){E(e)}},S=function(e){E(e.data)},x=function(e){i.postMessage(e+"",p.protocol+"//"+p.host)};h&&v||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete _[e]},"process"==f(g)?r=function(e){g.nextTick(w(e))}:y&&y.now?r=function(e){y.now(w(e))}:m&&!l?(u=(o=new m).port2,o.port1.onmessage=S,r=c(u.postMessage,u,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||a(x)?r="onreadystatechange"in s("script")?function(e){d.appendChild(s("script")).onreadystatechange=function(){d.removeChild(this),E(e)}}:function(e){setTimeout(w(e),0)}:(r=x,i.addEventListener("message",S,!1))),e.exports={set:h,clear:v}},function(e,t,n){var r=n(27);e.exports=r("document","documentElement")},function(e,t,n){var r=n(82);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(7),o=n(6),u=n(94);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=u.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(50),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";var r=n(11),o=n(15),u=n(3),i=n(1),a=n(66),f=i("species"),c=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=!u((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,s){var l=i(e),p=!u((function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})),h=p&&!u((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[f]=function(){return n},n.flags="",n[l]=/./[l]),n.exec=function(){return t=!0,null},n[l](""),!t}));if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var v=/./[l],g=n(l,""[e],(function(e,t,n,r,o){return t.exec===a?p&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),m=g[0],y=g[1];o(String.prototype,e,m),o(RegExp.prototype,l,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)}),s&&r(RegExp.prototype[l],"sham",!0)}}},function(e,t,n){"use strict";var r=n(97).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(35),o=n(26),u=function(e){return function(t,n){var u,i,a=String(o(t)),f=r(n),c=a.length;return f<0||f>=c?e?"":void 0:(u=a.charCodeAt(f))<55296||u>56319||f+1===c||(i=a.charCodeAt(f+1))<56320||i>57343?e?a.charAt(f):u:e?a.slice(f,f+2):i-56320+(u-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,n){var r=n(24),o=n(66);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var u=n.call(e,t);if("object"!=typeof u)throw TypeError("RegExp exec method returned something other than an Object or null");return u}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){t.f=n(1)},function(e,t,n){var r=n(79),o=n(10),u=n(99),i=n(12).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||i(t,e,{value:u.f(e)})}},function(e,t,n){var r=n(1),o=n(68),u=n(11),i=r("unscopables"),a=Array.prototype;null==a[i]&&u(a,i,o(null)),e.exports=function(e){a[i][e]=!0}},function(e,t,n){var r=n(4),o=n(141);r({target:"Array",stat:!0,forced:!n(89)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){"use strict";var r=n(4),o=n(142),u=n(69),i=n(106),a=n(49),f=n(11),c=n(15),d=n(1),s=n(31),l=n(40),p=n(104),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,g=d("iterator"),m=function(){return this};e.exports=function(e,t,n,d,p,y,b){o(n,t,d);var _,E,w,S=function(e){if(e===p&&P)return P;if(!v&&e in j)return j[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},x=t+" Iterator",O=!1,j=e.prototype,T=j[g]||j["@@iterator"]||p&&j[p],P=!v&&T||S(p),k="Array"==t&&j.entries||T;if(k&&(_=u(k.call(new e)),h!==Object.prototype&&_.next&&(s||u(_)===h||(i?i(_,h):"function"!=typeof _[g]&&f(_,g,m)),a(_,x,!0,!0),s&&(l[x]=m))),"values"==p&&T&&"values"!==T.name&&(O=!0,P=function(){return T.call(this)}),s&&!b||j[g]===P||f(j,g,P),l[t]=P,p)if(E={values:S("values"),keys:y?P:S("keys"),entries:S("entries")},b)for(w in E)!v&&!O&&w in j||c(j,w,E[w]);else r({target:t,proto:!0,forced:v||O},E);return E}},function(e,t,n){"use strict";var r,o,u,i=n(69),a=n(11),f=n(10),c=n(1),d=n(31),s=c("iterator"),l=!1;[].keys&&("next"in(u=[].keys())?(o=i(i(u)))!==Object.prototype&&(r=o):l=!0),null==r&&(r={}),d||f(r,s)||a(r,s,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},function(e,t,n){var r=n(3);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(7),o=n(143);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,u){return r(n),o(u),t?e.call(n,u):n.__proto__=u,n}}():void 0)},function(e,t,n){var r=n(4),o=n(16),u=n(52);r({target:"Object",stat:!0,forced:n(3)((function(){u(1)}))},{keys:function(e){return u(o(e))}})},function(e,t,n){"use strict";var r=n(4),o=n(31),u=n(84),i=n(27),a=n(65),f=n(93),c=n(15);r({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=a(this,i("Promise")),n="function"==typeof e;return this.then(n?function(n){return f(t,e()).then((function(){return n}))}:e,n?function(n){return f(t,e()).then((function(){throw n}))}:e)}}),o||"function"!=typeof u||u.prototype.finally||c(u.prototype,"finally",i("Promise").prototype.finally)},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){var n=[][e];return!n||!r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){"use strict";n(28),n(70),n(9),n(39),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(13))&&r.__esModule?r:{default:r};var u={ajaxFormData:function(e,t){var n=t,r=o.default.getState(),u=r.chatId,i=r.baseUrl;n.append("chatId",u);var a="".concat(i,"/").concat(e);return fetch(a,{method:"post",body:n})},ajaxJSON:function(e,t){var n=o.default.getState(),r=n.chatId,u=n.baseUrl,i={chatId:r};Object.assign(i,t);var a="".concat(u,"/").concat(e);return fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})},getAjax:function(e){return fetch(e,{method:"get"})}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={post:function(e,t){window.top.postMessage(JSON.stringify({event:e,data:t}),"*")}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_START_TYPING=t.API_SEND_FILE=t.API_GET_IP=t.API_RATE=t.API_END_CHAT=t.API_CURRENT_URL=t.API_REFRESH_DETAILS=t.API_READ_MESSAGE=t.API_SEND_MESSAGE=t.API_UPDATE_GREETING_ACTION=void 0;t.API_UPDATE_GREETING_ACTION="api/chat/update-greeting-action";t.API_SEND_MESSAGE="api/messages/send";t.API_READ_MESSAGE="api/messages/read";t.API_REFRESH_DETAILS="api/chat/refresh-details";t.API_CURRENT_URL="api/actions/current-url";t.API_END_CHAT="api/actions/end-chat";t.API_RATE="api/chat/rate";t.API_GET_IP="https://ip.mia-chat.com";t.API_SEND_FILE="api/messages/send-file";t.API_START_TYPING="api/actions/start-typing"},function(e,t,n){var r=n(6),o=n(24),u=n(1)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[u])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(8),o=n(2),u=n(62),i=n(164),a=n(12).f,f=n(47).f,c=n(114),d=n(67),s=n(15),l=n(3),p=n(85),h=n(1)("match"),v=o.RegExp,g=v.prototype,m=/a/g,y=/a/g,b=new v(m)!==m;if(r&&u("RegExp",!b||l((function(){return y[h]=!1,v(m)!=m||v(y)==y||"/a/i"!=v(m,"i")})))){for(var _=function(e,t){var n=this instanceof _,r=c(e),o=void 0===t;return!n&&r&&e.constructor===_&&o?e:i(b?new v(r&&!o?e.source:e,t):v((r=e instanceof _)?e.source:e,r&&o?d.call(e):t),n?this:g,_)},E=function(e){e in _||a(_,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},w=f(v),S=0;w.length>S;)E(w[S++]);g.constructor=_,_.prototype=g,s(o,"RegExp",_)}p("RegExp")},function(e,t,n){"use strict";n(32),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(117)),o=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=o.default.getState().baseUrl,n=r.default.parse(e),u=document.createElement("div");return u.innerHTML=n,u.querySelectorAll("img").forEach((function(e){var n=r.default.convert.toCodePoint(e.alt),o=document.createElement("img");o.alt=e.alt,o.src="".concat(t,"/img/base/transparent_25x25.png"),o.classList.add("emoji-panel__input-img","icon-".concat(n)),e.replaceWith(o)})),u.innerHTML};t.default=i},function(e,t,n){"use strict";n(28),n(171),n(73),n(9),n(53),n(41),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e={base:"https://twemoji.maxcdn.com/v/12.1.4/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return a(t);return a(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:g},onerror:function(){this.parentNode&&this.parentNode.replaceChild(f(this.alt,!1),this)},parse:function(t,n){n&&"function"!=typeof n||(n={callback:n});return("string"==typeof t?l:s)(t,{callback:n.callback||c,attributes:"function"==typeof n.attributes?n.attributes:h,base:"string"==typeof n.base?n.base:e.base,ext:n.ext||e.ext,size:n.folder||(r=n.size||e.size,"number"==typeof r?r+"x"+r:r),className:n.className||e.className,onerror:n.onerror||e.onerror});var r},replace:v,test:function(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,o=String.fromCharCode(8205),u=/[&<>'"]/g,i=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return e;function f(e,t){return document.createTextNode(t?e.replace(r,""):e)}function c(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function d(e){return g(e.indexOf(o)<0?e.replace(r,""):e)}function s(e,t){for(var r,o,u,a,c,s,l,p,h,v,g,m,y,b=function e(t,n){for(var r,o,u=t.childNodes,a=u.length;a--;)3===(o=(r=u[a]).nodeType)?n.push(r):1!==o||"ownerSVGElement"in r||i.test(r.nodeName.toLowerCase())||e(r,n);return n}(e,[]),_=b.length;_--;){for(u=!1,a=document.createDocumentFragment(),s=(c=b[_]).nodeValue,p=0;l=n.exec(s);){if((h=l.index)!==p&&a.appendChild(f(s.slice(p,h),!0)),m=d(g=l[0]),p=h+g.length,y=t.callback(m,t),m&&y){for(o in(v=new Image).onerror=t.onerror,v.setAttribute("draggable","false"),r=t.attributes(g,m))r.hasOwnProperty(o)&&0!==o.indexOf("on")&&!v.hasAttribute(o)&&v.setAttribute(o,r[o]);v.className=t.className,v.alt=g,v.src=y,u=!0,a.appendChild(v)}v||a.appendChild(f(g,!1)),v=null}u&&(p<s.length&&a.appendChild(f(s.slice(p),!0)),c.parentNode.replaceChild(a,c))}return e}function l(e,t){return v(e,(function(e){var n,r,o=e,i=d(e),a=t.callback(i,t);if(i&&a){for(r in o="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',a,'"'),n=t.attributes(e,i))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===o.indexOf(" "+r+"=")&&(o=o.concat(" ",r,'="',n[r].replace(u,p),'"'));o=o.concat("/>")}return o}))}function p(e){return t[e]}function h(){return null}function v(e,t){return String(e).replace(n,t)}function g(e,t){for(var n=[],r=0,o=0,u=0;u<e.length;)r=e.charCodeAt(u++),o?(n.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:n.push(r.toString(16));return n.join(t||"-")}}();t.default=r},function(e,t,n){"use strict";n(17),n(18),n(21),n(28),n(102),n(19),n(38),n(25),n(9),n(115),n(53),n(22),n(41),n(176),n(32),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n(111)),o=n(0),u=h(n(116)),i=h(n(117)),a=n(13),f=n(71),c=n(5),d=h(n(120)),s=h(n(180)),l=h(n(183)),p=n(113);function h(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?y(e):t}(this,m(t).call(this,e))).state={cursor:{range:null,sel:null},messageText:""},n.handleEmojiClick=n.handleEmojiClick.bind(y(n)),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=(0,f.getInfoFromLocalStorage)();if(e){var t=e.messageText||"";this.textarea.innerHTML=(0,u.default)(t),this.setState({messageText:t})}}},{key:"inputAction",value:function(){this.saveCursorPosition(),this.updateMessageText(),this.updateErrorStatus()}},{key:"pasteHandler",value:function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text");t=(0,u.default)(t);try{document.execCommand("insertHTML",!1,t)}catch(e){console.error(e)}this.inputAction()}},{key:"updateMessageText",value:function(){var e=document.createElement("div"),t=this.textarea.innerHTML;e.innerHTML=t,e.querySelectorAll("img").forEach((function(e){e.replaceWith(e.alt)}));var n=e.textContent;this.setState({messageText:n}),(0,f.saveInfoToLocalStorage)({messageText:n})}},{key:"updateErrorStatus",value:function(){var e=this.state.messageText.length>this.props.validations.maxMessageLength;this.setState({hasError:e})}},{key:"toggleEmojiPanelStatus",value:function(){this.props.toggleEmojiPanel(),null===this.state.cursor.sel&&(this.textarea.focus(),this.saveCursorPosition(),this.updateMessageText())}},{key:"handleEmojiClick",value:function(e,t){this.copyTwemoji(t),this.props.hideEmojiPanel()}},{key:"saveCursorPosition",value:function(){window.getSelection&&(this.state.cursor.sel=window.getSelection(),this.state.cursor.sel.getRangeAt&&this.state.cursor.sel.rangeCount&&(this.state.cursor.range=this.state.cursor.sel.getRangeAt(0)))}},{key:"copyTwemoji",value:function(e){this.textarea.focus(),this.pasteAtCursor(e),this.updateMessageText(),this.updateErrorStatus()}},{key:"clearTextarea",value:function(){this.textarea.innerHTML="",this.updateMessageText()}},{key:"sendMessageByKey",value:function(e){if(13===e.keyCode)return 0===this.state.messageText.length||this.state.hasError?void e.preventDefault():!!e.shiftKey||(this.sendMessage(),void e.preventDefault())}},{key:"sendMessage",value:function(){var e=this.state.messageText;0!==(e=(e=e.replace(new RegExp("(^(<br>)+)|((<br>)+$)","g"),"")).trim()).length?(this.props.sendMessage({text:e,type:"message",author:"guest",noReply:0,isSystem:0}),this.clearTextarea()):this.clearTextarea()}},{key:"pasteAtCursor",value:function(e){var t=i.default.convert.fromCodePoint(e),n='<img class="emoji-panel__input-img icon-'.concat(e,'" src="').concat(this.props.baseUrl,'/img/base/transparent_25x25.png" alt="').concat(t,'" />');if(this.state.cursor.sel){var r=document.createElement("div");r.innerHTML=n;for(var o,u,a=document.createDocumentFragment();o=r.firstChild;)u=a.appendChild(o);this.state.cursor.range.insertNode(a),u&&(this.state.cursor.range=this.state.cursor.range.cloneRange(),this.state.cursor.range.setStartAfter(u),this.state.cursor.range.collapse(!0),this.state.cursor.sel.removeAllRanges(),this.state.cursor.sel.addRange(this.state.cursor.range))}else document.selection&&"Control"!==document.selection.type&&document.selection.createRange().pasteHTML(n)}},{key:"uploadFiles",value:function(e){var t=Array.from(e.target.files),n=this.props.validations,o=n.maxFileSize,u=n.maxFiles,i=this.props.translates.messages,a=i.tooBigFile,f=i.manyFiles;return t.length<=u?t.forEach((function(e){var t=Math.round(e.size/1024/1024*100)/100,n=Math.round(o/1024/1024*100)/100,u=new FormData;if(u.append("author","guest"),t>n){var i=a;i=(i=(i=i.replace("{name}",e.name)).replace("{fileSize}",t)).replace("{maxSize}",n),r.default.ajaxJSON(p.API_SEND_MESSAGE,{text:i,noReply:0,author:"guest",isSystem:1,type:"error"})}else u.append("attachment",e),r.default.ajaxFormData(p.API_SEND_FILE,u).then((function(e){return 422===e.status?e.json():null})).then((function(e){e&&r.default.ajaxJSON(p.API_SEND_MESSAGE,{text:e[0].message,noReply:0,author:"guest",isSystem:1,type:"error"})}))})):r.default.ajaxJSON(p.API_SEND_MESSAGE,{text:f,noReply:0,isSystem:1,author:"guest",type:"error"}),e.target.value="",!1}},{key:"startTyping",value:function(){r.default.ajaxJSON(p.API_START_TYPING,{}),this.props.readMessages()}},{key:"render",value:function(e){var t=this,n=e.translates,r=e.emojiPanelVisible,u=e.appState,i=e.agent,a=n.messages.messageFormPlaceHolder;return(0,o.h)("div",{className:"message-form ".concat(i&&"active-chat"===u?"with-agent":""," ").concat("active-chat"===u?"":"absolute")},(0,o.h)("form",{action:"#",method:"post",enctype:"multipart/form-data",className:"message-form__form"},(0,o.h)("div",{className:"message-form__input-group"},(0,o.h)("div",{ref:function(e){return t.textarea=e},onClick:function(){t.inputAction(),t.startTyping()},onPaste:function(){t.pasteHandler(event)},onInput:function(){t.inputAction()},onKeyup:function(){t.inputAction()},onChange:function(){t.inputAction()},onBlur:function(){t.props.readMessages()},onKeyPress:function(){t.sendMessageByKey(event)},className:"message-form__message-input ".concat(this.state.hasError?"has-error":""),contentEditable:"true",placeholder:a}),(0,o.h)("div",{className:"message-form__buttons"},(0,o.h)("label",{className:"message-form__styled-file-input ".concat(this.state.messageText.length>0&&"mia-chat-hidden"),innerHTML:l.default,for:"message-form-file"}),(0,o.h)("input",{onChange:function(e){t.uploadFiles(e)},id:"message-form-file",type:"file",name:"file",multiple:!0,className:"mia-chat-hidden"}),(0,o.h)("div",{className:"message-form__styled-file-loader mia-chat-hidden"},(0,o.h)("span",{className:"message-form__loader-icon-wrapper"},(0,o.h)("i",{className:"message-form__loader-icon"}))),this.state.messageText.length>0&&(0,o.h)(d.default,{buttonClass:"message-form",clickHandler:function(){t.sendMessage()}}),(0,o.h)("div",{onClick:function(){t.toggleEmojiPanelStatus()},className:"message-form__emoji-picker"})))),r&&(0,o.h)(s.default,{emojiClick:this.handleEmojiClick}))}}])&&g(n.prototype,a),c&&g(n,c),t}(o.Component),E=(0,c.connect)(["baseUrl","isNewChat","validations","translates","emojiPanelVisible","appState","agent","socket"],a.actions)(_);t.default=E},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(0),u=(r=n(179))&&r.__esModule?r:{default:r};var i=function(e){var t=e.buttonClass,n=e.clickHandler;return(0,o.h)("button",{className:"".concat(t,"__send-button send-button"),type:"button",onClick:n,innerHTML:u.default})};t.default=i},function(e,t,n){"use strict";n(28),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=(0,n(5).connect)("agent")((function(e){var t=e.containerClass,n=e.rateUpHandler,o=e.rateDownHandler,u=e.agent;return(0,r.h)("div",{className:"".concat(t,"__rate agent-rate")},(0,r.h)("div",{onClick:n,className:"".concat(t,"__rate-up agent-rate__rate-up ").concat(u&&100===u.rate?"agent-rate__rate-up_active":"")}),(0,r.h)("div",{onClick:o,className:"".concat(t,"__rate-down agent-rate__rate-down ").concat(u&&0===u.rate?"agent-rate__rate-down_active":"")}))}));t.default=o},function(e,t,n){"use strict";var r=n(0),o=a(n(13)),u=n(5),i=a(n(160));function a(e){return e&&e.__esModule?e:{default:e}}var f=document.getElementById("mia-chat-wrapper");(0,r.render)((0,r.h)((function(){return(0,r.h)(u.Provider,{store:o.default},(0,r.h)(i.default,null))}),null),f)},function(e,t,n){var r=n(2),o=n(57),u=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=u},function(e,t,n){var r=n(2),o=n(76),u=r.WeakMap;e.exports="function"==typeof u&&/native code/.test(o.call(u))},function(e,t,n){var r=n(14),o=n(20),u=n(59),i=function(e){return function(t,n,i){var a,f=r(t),c=o(f.length),d=u(i,c);if(e&&n!=n){for(;c>d;)if((a=f[d++])!=a)return!0}else for(;c>d;d++)if((e||d in f)&&f[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},function(e,t,n){"use strict";var r=n(4),o=n(59),u=n(35),i=n(20),a=n(16),f=n(64),c=n(36),d=n(37),s=Math.max,l=Math.min;r({target:"Array",proto:!0,forced:!d("splice")},{splice:function(e,t){var n,r,d,p,h,v,g=a(this),m=i(g.length),y=o(e,m),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=m-y):(n=b-2,r=l(s(u(t),0),m-y)),m+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(d=f(g,r),p=0;p<r;p++)(h=y+p)in g&&c(d,p,g[h]);if(d.length=r,n<r){for(p=y;p<m-r;p++)v=p+n,(h=p+r)in g?g[v]=g[h]:delete g[v];for(p=m;p>m-r+n;p--)delete g[p-1]}else if(n>r)for(p=m-r;p>y;p--)v=p+n-1,(h=p+r-1)in g?g[v]=g[h]:delete g[v];for(p=0;p<n;p++)g[p+y]=arguments[p+2];return g.length=m-r+n,d}})},function(e,t,n){"use strict";var r=n(83),o={};o[n(1)("toStringTag")]="z",e.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},function(e,t,n){var r=n(15);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(7),o=n(86),u=n(20),i=n(51),a=n(87),f=n(88),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,d,s){var l,p,h,v,g,m,y,b=i(t,n,d?2:1);if(s)l=e;else{if("function"!=typeof(p=a(e)))throw TypeError("Target is not iterable");if(o(p)){for(h=0,v=u(e.length);v>h;h++)if((g=d?b(r(y=e[h])[0],y[1]):b(e[h]))&&g instanceof c)return g;return new c(!1)}l=p.call(e)}for(m=l.next;!(y=m.call(l)).done;)if("object"==typeof(g=f(l,b,y.value,d))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r,o,u,i,a,f,c,d,s=n(2),l=n(29).f,p=n(24),h=n(90).set,v=n(92),g=s.MutationObserver||s.WebKitMutationObserver,m=s.process,y=s.Promise,b="process"==p(m),_=l(s,"queueMicrotask"),E=_&&_.value;E||(r=function(){var e,t;for(b&&(e=m.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():u=void 0,e}}u=void 0,e&&e.enter()},b?i=function(){m.nextTick(r)}:g&&!v?(a=!0,f=document.createTextNode(""),new g(r).observe(f,{characterData:!0}),i=function(){f.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),d=c.then,i=function(){d.call(c,r)}):i=function(){h.call(s,r)}),e.exports=E||function(e){var t={fn:e,next:void 0};u&&(u.next=t),o||(o=t,i()),u=t}},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(4),o=n(135);r({target:"String",proto:!0,forced:n(136)("sub")},{sub:function(){return o(this,"sub","","")}})},function(e,t,n){var r=n(26),o=/"/g;e.exports=function(e,t,n,u){var i=String(r(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(u).replace(o,"&quot;")+'"'),a+">"+i+"</"+t+">"}},function(e,t,n){var r=n(3);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){var r=n(8),o=n(12),u=n(7),i=n(52);e.exports=r?Object.defineProperties:function(e,t){u(e);for(var n,r=i(t),a=r.length,f=0;a>f;)o.f(e,n=r[f++],t[n]);return e}},function(e,t,n){var r=n(14),o=n(47).f,u={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==u.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var r=n(4),o=n(42).filter;r({target:"Array",proto:!0,forced:!n(37)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),o=n(42).findIndex,u=n(101),i=!0;"findIndex"in[]&&Array(1).findIndex((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},function(e,t,n){"use strict";var r=n(51),o=n(16),u=n(88),i=n(86),a=n(20),f=n(36),c=n(87);e.exports=function(e){var t,n,d,s,l,p=o(e),h="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,m=void 0!==g,y=0,b=c(p);if(m&&(g=r(g,v>2?arguments[2]:void 0,2)),null==b||h==Array&&i(b))for(n=new h(t=a(p.length));t>y;y++)f(n,y,m?g(p[y],y):p[y]);else for(l=(s=b.call(p)).next,n=new h;!(d=l.call(s)).done;y++)f(n,y,m?u(s,g,[d.value,y],!0):d.value);return n.length=y,n}},function(e,t,n){"use strict";var r=n(104).IteratorPrototype,o=n(68),u=n(33),i=n(49),a=n(40),f=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=o(r,{next:u(1,n)}),i(e,c,!1,!0),a[c]=f,e}},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(8),o=n(3),u=n(52),i=n(61),a=n(55),f=n(16),c=n(43),d=Object.assign;e.exports=!d||o((function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||"abcdefghijklmnopqrst"!=u(d({},t)).join("")}))?function(e,t){for(var n=f(e),o=arguments.length,d=1,s=i.f,l=a.f;o>d;)for(var p,h=c(arguments[d++]),v=s?u(h).concat(s(h)):u(h),g=v.length,m=0;g>m;)p=v[m++],r&&!l.call(h,p)||(n[p]=h[p]);return n}:d},function(e,t,n){var r=n(4),o=n(3),u=n(14),i=n(29).f,a=n(8),f=o((function(){i(1)}));r({target:"Object",stat:!0,forced:!a||f,sham:!a},{getOwnPropertyDescriptor:function(e,t){return i(u(e),t)}})},function(e,t,n){var r=n(4),o=n(8),u=n(78),i=n(14),a=n(29),f=n(36);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),o=a.f,c=u(r),d={},s=0;c.length>s;)void 0!==(n=o(r,t=c[s++]))&&f(d,t,n);return d}})},function(e,t,n){"use strict";var r=n(42).forEach,o=n(110);e.exports=o("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},i=u.iterator||"@@iterator",a=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag",c="object"==typeof e,d=t.regeneratorRuntime;if(d)c&&(e.exports=d);else{(d=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var s="suspendedStart",l="suspendedYield",p="executing",h="completed",v={},g={};g[i]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(C([])));y&&y!==r&&o.call(y,i)&&(g=y);var b=x.prototype=w.prototype=Object.create(g);S.prototype=b.constructor=x,x.constructor=S,x[f]=S.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,f in e||(e[f]="GeneratorFunction")),e.prototype=Object.create(b),e},d.awrap=function(e){return{__await:e}},O(j.prototype),j.prototype[a]=function(){return this},d.AsyncIterator=j,d.async=function(e,t,n,r){var o=new j(_(e,t,n,r));return d.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(b),b[f]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=C,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var u=this.tryEntries.length-1;u>=0;--u){var i=this.tryEntries[u],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var f=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(f&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(f){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var i=u?u.completion:{};return i.type=e,i.arg=t,u?(this.method="next",this.next=u.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function _(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,u=Object.create(o.prototype),i=new N(r||[]);return u._invoke=function(e,t,n){var r=s;return function(o,u){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw u;return A()}for(n.method=o,n.arg=u;;){var i=n.delegate;if(i){var a=T(i,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===s)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var f=E(e,t,n);if("normal"===f.type){if(r=n.done?h:l,f.arg===v)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(r=h,n.method="throw",n.arg=f.arg)}}}(e,n,i),u}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function x(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function j(e){var t;this._invoke=function(n,r){function u(){return new Promise((function(t,u){!function t(n,r,u,i){var a=E(e[n],e,r);if("throw"!==a.type){var f=a.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,u,i)}),(function(e){t("throw",e,u,i)})):Promise.resolve(c).then((function(e){f.value=e,u(f)}),i)}i(a.arg)}(n,r,t,u)}))}return t=t?t.then(u,u):u()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var u=o.arg;return u?u.done?(t[e.resultName]=u.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):u:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,u=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return u.next=u}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";n(9),n(39),n(32),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(150);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.connectCallbacks=[],this.ws=null,this.isNeedToReconnect=!0}var t,n,o;return t=e,(n=[{key:"onConnect",value:function(e){this.connectCallbacks.push(e)}},{key:"connect",value:function(){var e=this,t={events:{},subscribe:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t),n.send(JSON.stringify({action:"subscribe",data:e}))},notify:function(e){for(var t=JSON.parse(e.data),n=0;n<this.events[e.action].length;n++)(0,this.events[e.action][n])(t)}},n=new WebSocket(this.url);return this.ws=n,n.addEventListener("open",(function(){e.log("Connection established"),e.connectCallbacks.forEach((function(e){e(t)}))})),n.addEventListener("close",(function(){e.isNeedToReconnect&&(e.log("Connection closed. Trying to reconnect ..."),setTimeout((function(){e.connect()}),1e3))})),n.addEventListener("message",(function(e){t.notify(JSON.parse(e.data))})),new Promise((function(e,t){n.addEventListener("open",(function(){e()})),n.addEventListener("close",(function(){t()}))}))}},{key:"close",value:function(){this.ws&&(this.isNeedToReconnect=!1,this.ws.close())}},{key:"log",value:function(e){console.log("[GoSocket]: ".concat(e))}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";(function(t){var r=n(151);function o(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,u=Math.min(n,r);o<u;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function u(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n(152),a=Object.prototype.hasOwnProperty,f=Array.prototype.slice,c="foo"===function(){}.name;function d(e){return Object.prototype.toString.call(e)}function s(e){return!u(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var l=e.exports=y,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(i.isFunction(e)){if(c)return e.name;var t=e.toString().match(p);return t&&t[1]}}function v(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(c||!i.isFunction(e))return i.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,o){throw new l.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function y(e,t){e||m(e,!0,t,"==",l.ok)}function b(e,t,n,r){if(e===t)return!0;if(u(e)&&u(t))return 0===o(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(u(e)!==u(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=_(e),u=_(t);if(o&&!u||!o&&u)return!1;if(o)return e=f.call(e),t=f.call(t),b(e,t,n);var a,c,d=S(e),s=S(t);if(d.length!==s.length)return!1;for(d.sort(),s.sort(),c=d.length-1;c>=0;c--)if(d[c]!==s[c])return!1;for(c=d.length-1;c>=0;c--)if(a=d[c],!b(e[a],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&m(o,n,"Missing expected exception"+r);var u="string"==typeof r,a=!e&&o&&!n;if((!e&&i.isError(o)&&u&&E(o,n)||a)&&m(o,n,"Got unwanted exception"+r),e&&o&&n&&!E(o,n)||!e&&o)throw o}l.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return v(g(e.actual),128)+" "+e.operator+" "+v(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=h(t),u=r.indexOf("\n"+o);if(u>=0){var i=r.indexOf("\n",u+1);r=r.substring(i+1)}this.stack=r}}},i.inherits(l.AssertionError,Error),l.fail=m,l.ok=y,l.equal=function(e,t,n){e!=t&&m(e,t,n,"==",l.equal)},l.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",l.notEqual)},l.deepEqual=function(e,t,n){b(e,t,!1)||m(e,t,n,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,n){b(e,t,!0)||m(e,t,n,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,n){b(e,t,!1)&&m(e,t,n,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},l.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",l.strictEqual)},l.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",l.notStrictEqual)},l.throws=function(e,t,n){w(!0,e,t,n)},l.doesNotThrow=function(e,t,n){w(!1,e,t,n)},l.ifError=function(e){if(e)throw e},l.strict=r((function e(t,n){t||m(t,!0,n,"==",e)}),l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var S=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(74))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,f=i(e),c=1;c<arguments.length;c++){for(var d in n=Object(arguments[c]))o.call(n,d)&&(f[d]=n[d]);if(r){a=r(n);for(var s=0;s<a.length;s++)u.call(n,a[s])&&(f[a[s]]=n[a[s]])}}return f}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,u=r.length,i=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),f=r[n];n<u;f=r[++n])v(f)||!_(f)?i+=" "+f:i+=" "+a(f);return i},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var u,i={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=f),d(r,e,r.depth)}function f(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return m(o)||(o=d(e,o,r)),o}var u=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(u)return u;var i=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),w(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return s(n);if(0===i.length){if(S(n)){var f=n.name?": "+n.name:"";return e.stylize("[Function"+f+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return s(n)}var c,_="",x=!1,O=["{","}"];(p(n)&&(x=!0,O=["[","]"]),S(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),E(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+s(n)),0!==i.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=x?function(e,t,n,r,o){for(var u=[],i=0,a=t.length;i<a;++i)P(t,String(i))?u.push(l(e,t,n,r,String(i),!0)):u.push("");return o.forEach((function(o){o.match(/^\d+$/)||u.push(l(e,t,n,r,o,!0))})),u}(e,n,r,a,i):i.map((function(t){return l(e,n,r,a,t,x)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,O)):O[0]+_+O[1]}function s(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,o,u){var i,a,f;if((f=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(a=e.stylize("[Setter]","special")),P(r,o)||(i="["+o+"]"),a||(e.seen.indexOf(f.value)<0?(a=v(n)?d(e,f.value,null):d(e,f.value,n-1)).indexOf("\n")>-1&&(a=u?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(i)){if(u&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===x(e)}function _(e){return"object"==typeof e&&null!==e}function E(e){return _(e)&&"[object Date]"===x(e)}function w(e){return _(e)&&("[object Error]"===x(e)||e instanceof Error)}function S(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(u)&&(u=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!i[n])if(new RegExp("\\b"+n+"\\b","i").test(u)){var r=e.pid;i[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else i[n]=function(){};return i[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=E,t.isError=w,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(154);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(155),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var k="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(k&&e[k]){var t;if("function"!=typeof(t=e[k]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],u=0;u<arguments.length;u++)o.push(arguments[u]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),k&&Object.defineProperty(t,k,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=k,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var u=this,i=function(){return o.apply(u,arguments)};t.apply(this,n).then((function(t){e.nextTick(i,null,t)}),(function(t){e.nextTick(N,t,i)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(153))},function(e,t){var n,r,o=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===u||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:u}catch(e){n=u}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var f,c=[],d=!1,s=-1;function l(){d&&f&&(d=!1,f.length?c=f.concat(c):s=-1,c.length&&p())}function p(){if(!d){var e=a(l);d=!0;for(var t=c.length;t;){for(f=c,c=[];++s<t;)f&&f[s].run();s=-1,t=c.length}f=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||d||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];function n(e){for(var n=[],r=0;r<t.length;r++)t[r]===e?e=null:n.push(t[r]);t=n}function o(n,o,u){e=o?n:r(r({},e),n);for(var i=t,a=0;a<i.length;a++)i[a](e,u)}return e=e||{},{action:function(t){function n(e){o(e,!1,t)}return function(){for(var r=arguments,o=[e],u=0;u<arguments.length;u++)o.push(r[u]);var i=t.apply(this,o);if(null!=i)return i.then?i.then(n):n(i)}},setState:o,subscribe:function(e){return t.push(e),function(){n(e)}},unsubscribe:n,getState:function(){return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={emojiPanelVisible:!1,activeEmojiTab:"people",emojiCategories:[{emojis:["1f604","1f603","1f600","1f60a","263a","1f609","1f60d","1f618","1f61a","1f617","1f619","1f61c","1f61d","1f61b","1f633","1f601","1f614","1f60c","1f612","1f61e","1f623","1f622","1f602","1f62d","1f62a","1f625","1f630","1f605","1f613","1f629","1f62b","1f628","1f631","1f620","1f621","1f624","1f616","1f606","1f60b","1f637","1f60e","1f634","1f635","1f632","1f61f","1f626","1f627","1f608","1f47f","1f62e","1f62c","1f610","1f615","1f62f","1f636","1f607","1f60f","1f611","1f472","1f473","1f46e","1f477","1f482","1f476","1f466","1f467","1f468","1f469","1f474","1f475","1f471","1f47c","1f478","1f63a","1f638","1f63b","1f63d","1f63c","1f640","1f63f","1f639","1f63e","1f479","1f47a","1f648","1f649","1f64a","1f480","1f47d","1f4a9","1f525","2728","1f31f","1f4ab","1f4a5","1f4a2","1f4a6","1f4a7","1f4a4","1f4a8","1f442","1f440","1f443","1f445","1f444","1f44d","1f44e","1f44c","1f44a","270a","270c","1f44b","270b","1f450","1f446","1f447","1f449","1f448","1f64c","1f64f","261d","1f44f","1f4aa","1f6b6","1f3c3","1f483","1f46b","1f46a","1f46c","1f46d","1f48f","1f491","1f46f","1f646","1f645","1f481","1f64b","1f486","1f487","1f485","1f470","1f64e","1f64d","1f647","1f3a9","1f451","1f452","1f45f","1f45e","1f461","1f460","1f462","1f455","1f454","1f45a","1f457","1f3bd","1f456","1f458","1f459","1f4bc","1f45c","1f45d","1f45b","1f453","1f380","1f302","1f484","1f49b","1f499","1f49c","1f49a","2764","1f494","1f497","1f493","1f495","1f496","1f49e","1f48c","1f498","1f48b","1f48d","1f48e","1f464","1f465","1f4ac","1f463","1f4ad"],name:"people",icon:"1f604"},{emojis:["1f436","1f43a","1f431","1f42d","1f439","1f430","1f438","1f42f","1f428","1f43b","1f437","1f43d","1f42e","1f417","1f435","1f412","1f434","1f411","1f418","1f43c","1f427","1f426","1f424","1f425","1f423","1f414","1f40d","1f422","1f41b","1f41d","1f41c","1f41e","1f40c","1f419","1f41a","1f420","1f41f","1f42c","1f433","1f40b","1f404","1f40f","1f400","1f403","1f405","1f407","1f409","1f40e","1f410","1f413","1f415","1f416","1f401","1f402","1f432","1f421","1f40a","1f42b","1f42a","1f406","1f408","1f429","1f43e","1f490","1f338","1f337","1f340","1f339","1f33b","1f33a","1f341","1f343","1f342","1f33f","1f33e","1f344","1f335","1f334","1f332","1f333","1f330","1f331","1f33c","1f310","1f31e","1f31d","1f31a","1f311","1f312","1f313","1f314","1f315","1f316","1f317","1f318","1f31c","1f31b","1f319","1f30d","1f30e","1f30f","1f30b","1f30c","1f320","2b50","2600","26c5","2601","26a1","2614","2744","26c4","1f300","1f301","1f308","1f30a"],name:"nature",icon:"1f338"},{emojis:["1f38d","1f49d","1f38e","1f392","1f393","1f38f","1f386","1f387","1f390","1f391","1f383","1f47b","1f385","1f384","1f381","1f38b","1f389","1f38a","1f388","1f38c","1f52e","1f3a5","1f4f7","1f4f9","1f4fc","1f4bf","1f4c0","1f4bd","1f4be","1f4bb","1f4f1","260e","1f4de","1f4df","1f4e0","1f4e1","1f4fa","1f4fb","1f50a","1f509","1f508","1f507","1f514","1f515","1f4e2","1f4e3","23f3","231b","23f0","231a","1f513","1f512","1f50f","1f510","1f511","1f50e","1f4a1","1f526","1f506","1f505","1f50c","1f50b","1f50d","1f6c1","1f6c0","1f6bf","1f6bd","1f527","1f529","1f528","1f6aa","1f6ac","1f4a3","1f52b","1f52a","1f48a","1f489","1f4b0","1f4b4","1f4b5","1f4b7","1f4b6","1f4b3","1f4b8","1f4f2","1f4e7","1f4e5","1f4e4","2709","1f4e9","1f4e8","1f4ef","1f4eb","1f4ea","1f4ec","1f4ed","1f4ee","1f4e6","1f4dd","1f4c4","1f4c3","1f4d1","1f4ca","1f4c8","1f4c9","1f4dc","1f4cb","1f4c5","1f4c6","1f4c7","1f4c1","1f4c2","2702","1f4cc","1f4ce","2712","270f","1f4cf","1f4d0","1f4d5","1f4d7","1f4d8","1f4d9","1f4d3","1f4d4","1f4d2","1f4da","1f4d6","1f516","1f4db","1f52c","1f52d","1f4f0","1f3a8","1f3ac","1f3a4","1f3a7","1f3bc","1f3b5","1f3b6","1f3b9","1f3bb","1f3ba","1f3b7","1f3b8","1f47e","1f3ae","1f0cf","1f3b4","1f004","1f3b2","1f3af","1f3c8","1f3c0","26bd","26be","1f3be","1f3b1","1f3c9","1f3b3","26f3","1f6b5","1f6b4","1f3c1","1f3c7","1f3c6","1f3bf","1f3c2","1f3ca","1f3c4","1f3a3","2615","1f375","1f376","1f37c","1f37a","1f37b","1f378","1f379","1f377","1f374","1f355","1f354","1f35f","1f357","1f356","1f35d","1f35b","1f364","1f371","1f363","1f365","1f359","1f358","1f35a","1f35c","1f372","1f362","1f361","1f373","1f35e","1f369","1f36e","1f366","1f368","1f367","1f382","1f370","1f36a","1f36b","1f36c","1f36d","1f36f","1f34e","1f34f","1f34a","1f34b","1f352","1f347","1f349","1f353","1f351","1f348","1f34c","1f350","1f34d","1f360","1f346","1f345","1f33d"],name:"object",icon:"1f3ae"},{emojis:["1f3e0","1f3e1","1f3eb","1f3e2","1f3e3","1f3e5","1f3e6","1f3ea","1f3e9","1f3e8","1f492","26ea","1f3ec","1f3e4","e50a","1f307","1f306","1f3ef","1f3f0","26fa","1f3ed","1f5fc","1f5fe","1f5fb","1f304","1f305","1f303","1f5fd","1f309","1f3a0","1f3a1","26f2","1f3a2","1f6a2","26f5","1f6a4","1f6a3","2693","1f680","2708","1f4ba","1f681","1f682","1f68a","1f689","1f69e","1f686","1f684","1f685","1f688","1f687","1f69d","1f68b","1f683","1f68e","1f68c","1f68d","1f699","1f698","1f697","1f695","1f696","1f69b","1f69a","1f6a8","1f693","1f694","1f692","1f691","1f690","1f6b2","1f6a1","1f69f","1f6a0","1f69c","1f488","1f68f","1f3ab","1f6a6","1f6a5","26a0","1f6a7","1f530","26fd","1f3ee","1f3b0","2668","1f5ff","1f3aa","1f3ad","1f4cd","1f6a9","1f1e8-1f1f3","1f1e9-1f1ea","1f1ea-1f1f8","1f1eb-1f1f7","1f1ec-1f1e7","1f1ee-1f1f9","1f1ef-1f1f5","1f1f0-1f1f7","1f1f7-1f1fa","1f1fa-1f1f8"],name:"place",icon:"1f698"},{emojis:["31-20e3","32-20e3","33-20e3","34-20e3","35-20e3","36-20e3","37-20e3","38-20e3","39-20e3","30-20e3","1f51f","1f522","23-20e3","1f523","1f520","1f521","1f524","1f1e6","1f1e7","1f1e8","1f1e9","1f1ea","1f1eb","1f1ec","1f1ed","1f1ee","1f1ef","1f1f0","1f1f1","1f1f2","1f1f3","1f1f4","1f1f5","1f1f6","1f1f7","1f1f8","1f1f9","1f1fa","1f1fb","1f1fc","1f1fd","1f1fe","1f1ff","2b06","2b07","2b05","27a1","2196","2197","2198","2199","2194","2195","1f504","25c0","25b6","1f53c","1f53d","21a9","21aa","2139","23ea","23e9","23eb","23ec","2935","2934","1f197","1f500","1f501","1f502","1f195","1f199","1f192","1f193","1f196","1f4f6","1f3a6","1f201","1f22f","1f233","1f235","1f234","1f232","1f250","1f239","1f23a","1f236","1f21a","1f6bb","1f6b9","1f6ba","1f6bc","1f6be","1f6b0","1f6ae","1f17f","267f","1f6ad","1f237","1f238","1f202","24c2","1f6c2","1f6c4","1f6c5","1f6c3","1f251","3299","3297","1f191","1f198","1f194","1f6ab","1f51e","1f4f5","1f6af","1f6b1","1f6b3","1f6b7","1f6b8","26d4","2733","2747","274e","2705","2734","1f49f","1f19a","1f4f3","1f4f4","1f170","1f171","1f18e","1f17e","1f4a0","27bf","267b","2648","2649","264a","264b","264c","264d","264e","264f","2650","2651","2652","2653","26ce","1f52f","1f3e7","1f4b9","1f4b2","1f4b1","274c","203c","2049","2757","2753","2755","2754","2b55","1f51d","1f51a","1f519","1f51b","1f51c","1f503","1f55b","1f567","1f550","1f55c","1f551","1f55d","1f552","1f55e","1f553","1f55f","1f554","1f560","1f555","1f556","1f557","1f558","1f559","1f55a","1f561","1f562","1f563","1f564","1f565","1f566","2716","2795","2796","2797","2660","2665","2663","2666","1f4ae","1f4af","2714","2611","1f518","1f517","27b0","3030","303d","1f531","25fc","25fb","25fe","25fd","25aa","25ab","1f53a","1f532","1f533","26ab","26aa","1f534","1f535","1f53b","2b1c","2b1b","1f536","1f537","1f538","1f539"],name:"symbol",icon:"1f523"}]};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={EVENT_MESSAGE_ACCEPTED:"message",EVENT_START_TYPING:"startTyping",EVENT_END_TYPING:"endTyping",EVENT_AGENT_JOINED:"adminJoin",EVENT_AGENT_LEFT:"adminLeft",EVENT_CHAT_OPENED:"chatIsOpened",EVENT_CHAT_CLOSED:"chatIsClosed",EVENT_UNREAD_MESSAGES:"unreadMessages",EVENT_PIXEL_ACCEPTED:"pixelAccepted",EVENT_UPDATE_CHAT_ID:"updateChatId",EVENT_CLOSE_CHAT:"closeChat",EVENT_RENDER_CHAT:"chatRender",EVENT_GET_GREETING_COOKIE:"getGreetingCookie",EVENT_GREETING_COOKIE:"greetingCookie",EVENT_SET_GREETING_COOKIE:"setGreetingCookie"};t.default=r},function(e,t,n){"use strict";var r=n(95),o=n(114),u=n(7),i=n(26),a=n(65),f=n(96),c=n(20),d=n(98),s=n(66),l=n(3),p=[].push,h=Math.min,v=!l((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(i(this)),u=void 0===n?4294967295:n>>>0;if(0===u)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,u);for(var a,f,c,d=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=new RegExp(e.source,l+"g");(a=s.call(v,r))&&!((f=v.lastIndex)>h&&(d.push(r.slice(h,a.index)),a.length>1&&a.index<r.length&&p.apply(d,a.slice(1)),c=a[0].length,h=f,d.length>=u));)v.lastIndex===a.index&&v.lastIndex++;return h===r.length?!c&&v.test("")||d.push(""):d.push(r.slice(h)),d.length>u?d.slice(0,u):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=i(this),u=null==t?void 0:t[e];return void 0!==u?u.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var s=u(e),l=String(this),p=a(s,RegExp),g=s.unicode,m=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"y":"g"),y=new p(v?s:"^(?:"+s.source+")",m),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===l.length)return null===d(y,l)?[l]:[];for(var _=0,E=0,w=[];E<l.length;){y.lastIndex=v?E:0;var S,x=d(y,v?l:l.slice(E));if(null===x||(S=h(c(y.lastIndex+(v?0:E)),l.length))===_)E=f(l,E,g);else{if(w.push(l.slice(_,E)),w.length===b)return w;for(var O=1;O<=x.length-1;O++)if(w.push(x[O]),w.length===b)return w;E=_=S}}return w.push(l.slice(_)),w}]}),!v)},function(e,t,n){"use strict";n(17),n(18),n(21),n(19),n(25),n(9),n(39),n(108),n(22),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(5),u=n(13),i=l(n(161)),a=l(n(186)),f=l(n(188)),c=l(n(191)),d=l(n(192)),s=l(n(112));function l(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,g(t).call(this,e))).state={dataAccepted:!1},window.addEventListener("message",(function(e){var t=JSON.parse(e.data);switch(t.event){case n.props.EVENT_RENDER_CHAT:n.props.setChatIframeState("closed"),n.props.assignDataToStore(t.data),n.props.setClientIp().finally((function(){n.props.getChatDefaults().then((function(){n.props.unreadMessages&&s.default.post(n.props.EVENT_UNREAD_MESSAGES,{quantity:n.props.unreadMessages}),n.props.processUIAppState(),n.setState({dataAccepted:!0})}))}));break;case n.props.EVENT_CHAT_OPENED:n.props.setChatIframeState("opened"),n.props.readMessages();break;case n.props.EVENT_CHAT_CLOSED:n.props.setChatIframeState("closed")}})),n}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(o=[{key:"render",value:function(e){var t=this,n=e.isPhone,o=e.appState;return this.state.dataAccepted&&(0,r.h)("div",{className:"app ".concat(n?"mobile":"")},(0,r.h)(d.default,{clickHandler:function(){t.props.closeChat()}}),"greeting"===o&&(0,r.h)(a.default,null),"active-chat"===o&&(0,r.h)(i.default,null),"feedback"===o&&(0,r.h)(f.default,null),"prechat"===o&&(0,r.h)(c.default,null))}}])&&h(n.prototype,o),u&&h(n,u),t}(r.Component),b=(0,o.connect)(["chatId","unreadMessages","isPhone","appState","EVENT_RENDER_CHAT","EVENT_UNREAD_MESSAGES","EVENT_CHAT_OPENED","EVENT_CHAT_CLOSED"],u.actions)(y);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(5),u=c(n(162)),i=c(n(118)),a=c(n(184)),f=c(n(185));function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.connect)("agent")((function(e){var t=e.agent;return(0,r.h)("div",{className:"mia-chat",id:"mia-chat"},t&&(0,r.h)(f.default,null),(0,r.h)(u.default,null),(0,r.h)(i.default,null),t&&(0,r.h)(a.default,null))}));t.default=d},function(e,t,n){"use strict";n(17),n(18),n(21),n(19),n(54),n(25),n(9),n(22),n(32),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(5),u=f(n(163)),i=f(n(174)),a=f(n(175));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?l(e):t}(this,s(t).call(this,e))).animTimeout=null,n.state={showScrollButton:!1},n.scrollHandler=n.scrollHandler.bind(l(n)),n.scrollDown=n.scrollDown.bind(l(n)),n}var n,o,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"sortedMessages",value:function(){var e=this.props.messages;return e.sort((function(e,t){return e.timestamp-t.timestamp||e.id-e.id})),e.forEach((function(t,n){n===e.length-1&&"error"!==t.type?t.showDate=!0:n!==e.length-1&&"error"!==t.type&&e[n+1].from!==t.from?t.showDate=!0:t.showDate=!1})),e}},{key:"componentDidMount",value:function(){this.scrollDown(!1),this.container.addEventListener("wheel",this.scrollHandler),this.container.addEventListener("touchmove",this.scrollHandler)}},{key:"componentDidUpdate",value:function(e){this.props.messages.length!==e.messages.length&&this.scrollDown()}},{key:"scrollHandler",value:function(){var e=this.container.querySelector(".messages-list__message:last-child"),t=(0,i.default)(e);this.state.showScrollButton!==!t&&this.setState({showScrollButton:!t})}},{key:"scrollDown",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.container.scrollTop=this.container.scrollHeight,"opened"===this.props.chatIframeState&&this.scrollHandler(),t){this.state.animTimeout&&(clearTimeout(this.animTimeout),this.container.classList.remove("animate"),this.animTimeout=null),this.container.classList.add("animate");var n=setTimeout((function(){e.container.classList.remove("animate")}),600);this.animTimeout=n}}},{key:"render",value:function(e){var t=this,n=e.translates,o=e.agentIsTyping,i=n.messages.typingText;return(0,r.h)("div",{className:"messages-list-container"},(0,r.h)("div",{ref:function(e){t.container=e},className:"messages-list"},this.sortedMessages().map((function(e){return(0,r.h)("div",{className:"messages-list__message"},(0,r.h)(u.default,{message:e,scrollDown:t.scrollDown}))}))),o&&(0,r.h)("div",{className:"agent-is-typing"},i,(0,r.h)("span",null,"."),(0,r.h)("span",null,"."),(0,r.h)("span",null,".")),this.state.showScrollButton&&(0,r.h)("div",{onClick:function(){t.scrollDown(!1)},innerHTML:a.default,className:"scroll-down-btn"}))}}])&&d(n.prototype,o),f&&d(n,f),t}(r.Component),v=(0,o.connect)(["messages","agentIsTyping","chatIframeState","translates"])(h);t.default=v},function(e,t,n){"use strict";n(17),n(18),n(21),n(28),n(19),n(25),n(107),n(9),n(115),n(53),n(22),n(41),n(32),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=d(n(165)),u=d(n(166)),i=d(n(169)),a=d(n(170)),f=d(n(116)),c=d(n(172));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,h(t).apply(this,arguments))}var n,d,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(d=[{key:"messagePosition",value:function(){var e=this.props.message;return"error"===e.type||"form"===e.type||"form-answer"===e.type?"center":"message"!==e.type&&"attachment"!==e.type||"guest"!==e.from?"message"!==e.type&&"attachment"!==e.type||"admin"!==e.from?void 0:"left":"right"}},{key:"formIframeSrc",value:function(){return this.props.message.links[Object.keys(this.props.message.links)[0]]}},{key:"wrappedText",value:function(){var e=this.props.message.text,t="attachment"===this.props.message.type||!1,n=this.props.message.links;return"object"===s(n)&&Object.keys(n).forEach((function(r){var u=new RegExp((0,o.default)(r),"g"),i=n[r];e=e.replace(u,'<a class="message-link" '.concat(t?"download":'target="_blank"',' href="').concat(i,'">').concat(r,"</a>"))})),e=(0,f.default)(e)}},{key:"render",value:function(e){var t=e.message;return(0,r.h)("div",{className:"message"},("message"===t.type||"attachment"===t.type)&&(0,r.h)(u.default,{messageText:this.wrappedText(),message:t,scrollDown:this.props.scrollDown,position:this.messagePosition()}),"error"===t.type&&(0,r.h)(i.default,{text:t.text}),"form-answer"===t.type&&(0,r.h)(a.default,{message:t}),"form"===t.type&&(0,r.h)(c.default,{message:t,iframeSrc:this.formIframeSrc()}))}}])&&l(n.prototype,d),g&&l(n,g),t}(r.Component);t.default=g},function(e,t,n){var r=n(6),o=n(106);e.exports=function(e,t,n){var u,i;return o&&"function"==typeof(u=t.constructor)&&u!==n&&r(i=u.prototype)&&i!==n.prototype&&o(e,i),e}},function(e,t,n){"use strict";n(41),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e.replace(/[.*+?^${}/()|[\]\\]/g,"\\$&")};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=a(n(72)),u=a(n(167)),i=a(n(168));function a(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.message,n=e.position,a=e.messageText,f=e.scrollDown,c="",d="";return t.preview&&(t.preview.cover&&t.preview.cover.length>0?(d="simple-message__body_preview",c=(0,r.h)(u.default,{onLoadHandler:f,preview:t.preview})):(t.preview.icon||!t.preview.icon&&"attachment"===t.type)&&(d="simple-message__body_icon",c=(0,r.h)("img",{src:(0,i.default)(t.preview.icon),className:"simple-message__icon"}))),(0,r.h)("div",{className:"simple-message simple-message_".concat(n)},(0,r.h)("div",{className:"simple-message__body ".concat(d)},(0,r.h)("div",{innerHTML:a,className:"simple-message__text"}),t.loading?(0,r.h)("div",{className:"simple-message__loader"},(0,r.h)("div",{class:"lds-dual-ring"})):c),(0,r.h)("div",{className:"simple-message__footer"},t.showDate&&(0,r.h)(o.default,{author:t.author,timestamp:t.timestamp})))};t.default=f},function(e,t,n){"use strict";n(17),n(18),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=function(e){var t=e.onLoadHandler,n=e.preview;return(0,r.h)("div",{className:"message-preview"},n.cover&&(0,r.h)("img",{onLoad:function(){t(!1)},className:"message-preview__image",src:n.cover}),n.title&&(0,r.h)("div",{className:"message-preview__title"},n.title),n.description&&(0,r.h)("div",{classname:"message-preview__description"},n.description))};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(13))&&r.__esModule?r:{default:r};var u=function(e){var t=o.default.getState().baseUrl;switch(e){case"pdf":return"".concat(t,"/img/fileIcons/pdf.svg");case"image":return"".concat(t,"/img/fileIcons/image.svg");case"excel":return"".concat(t,"/img/fileIcons/excel.svg");case"text":return"".concat(t,"/img/fileIcons/text.svg");case"word":return"".concat(t,"/img/fileIcons/word.svg");case"power-point":return"".concat(t,"/img/fileIcons/powerpoint.svg");case"rar":return"".concat(t,"/img/fileIcons/rar.svg");case"zip":return"".concat(t,"/img/fileIcons/zip.svg");case"internet":return"".concat(t,"/img/fileIcons/internet.svg");default:return"".concat(t,"/img/fileIcons/default.svg")}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=function(e){var t=e.text;return(0,r.h)("div",{className:"error-message"},(0,r.h)("div",{className:"error-message__body"},(0,r.h)("div",{className:"error-message__text"},t)))};t.default=o},function(e,t,n){"use strict";n(54),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(0),u=n(5),i=(r=n(72))&&r.__esModule?r:{default:r};var a=(0,u.connect)(["translates"])((function(e){var t=e.message,n=e.translates,r=n.formAnswerTitle,u=n.formAnswerSubtitle;return(0,o.h)("div",{className:"form-answer-message"},(0,o.h)("div",{className:"form-answer-message__body"},(0,o.h)("div",{classNmae:"form-answer-message__form"},(0,o.h)("div",{className:"form-answer-message__title"},r),(0,o.h)("div",{className:"form-answer-message__subtitle"},u),t.text.map((function(e){return"header"===e.type?(0,o.h)("div",{className:"form-answer-message__header"},e.value):"hidden"!==e.type?(0,o.h)("div",{className:"form-answer-message__row"},(0,o.h)("div",{className:"form-answer-message__field"},e.key,":"),(0,o.h)("div",{className:"form-answer-message__field-value"},e.value)):void 0})))),(0,o.h)("div",{className:"form-answer-message__footer"},t.showDate&&(0,o.h)(i.default,{author:t.author,timestamp:t.timestamp})))}));t.default=a},function(e,t,n){"use strict";var r=n(4),o=n(43),u=n(14),i=n(110),a=[].join,f=o!=Object,c=i("join",",");r({target:"Array",proto:!0,forced:f||c},{join:function(e){return a.call(u(this),void 0===e?",":e)}})},function(e,t,n){"use strict";n(17),n(18),n(21),n(19),n(25),n(9),n(22),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=i(n(72)),u=i(n(173));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,d(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(i=[{key:"render",value:function(e){var t=this,n=e.message,i=e.iframeSrc;return(0,r.h)("div",{className:"form-message"},(0,r.h)("div",{className:"form-message__body"},(0,r.h)("div",{className:"form-message__content"},(0,r.h)("iframe",{className:"form-message__iframe",ref:function(e){t.iframe=e},onLoad:function(){(0,u.default)(t.iframe)},src:i}))),(0,r.h)("div",{className:"form-message__footer"},n.showDate&&(0,r.h)(o.default,{author:n.author,timestamp:n.timestamp})))}}])&&f(n.prototype,i),a&&f(n,a),t}(r.Component);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e)var t=0,n=setInterval((function(){t+=500,e.style.height=e.contentWindow.document.body.scrollHeight+"px",t>=4e3&&clearInterval(n)}),500)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.bottom;return n<window.innerHeight&&r>=0};t.default=r},function(e,t,n){"use strict";n.r(t),t.default='<svg width="16" height="9" viewBox="0 0 16 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15 1L8 8L1 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n</svg>'},function(e,t,n){"use strict";var r=n(4),o=n(177).trim;r({target:"String",proto:!0,forced:n(178)("trim")},{trim:function(){return o(this)}})},function(e,t,n){var r=n(26),o="["+n(119)+"]",u=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),a=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(u,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},function(e,t,n){var r=n(3),o=n(119);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},function(e,t,n){"use strict";n.r(t),t.default='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path class=\'send-button-icon-path\' d="M9.14103 20.4623L9.14108 20.4633C9.15585 20.7433 9.31838 21.0037 9.57134 21.1052C9.64604 21.1379 9.72349 21.15 9.79263 21.15C9.98488 21.15 10.1622 21.0597 10.2866 20.8975C10.2868 20.8974 10.2869 20.8972 10.287 20.897L12.7831 17.6889L16.335 20.5434C16.3351 20.5434 16.3351 20.5434 16.3352 20.5435C16.5231 20.6962 16.7477 20.7806 16.9844 20.7806C17.5339 20.7806 17.9827 20.3329 18.0906 19.7486L18.0909 19.7463L21.138 1.71804C21.138 1.71788 21.1381 1.71772 21.1381 1.71756C21.1827 1.46364 21.1 1.1944 20.9226 1.02476C20.7371 0.846521 20.4792 0.799399 20.2493 0.907442L20.249 0.907577L1.5251 9.75411L1.52504 9.754L1.51953 9.75689C1.08185 9.98636 0.82488 10.4812 0.851956 11.0103C0.878959 11.538 1.18238 12.0015 1.64588 12.1625C1.64594 12.1625 1.646 12.1625 1.64605 12.1626L8.87644 14.7004L9.14103 20.4623ZM11.7209 16.8332L10.3524 18.5888L10.2185 15.6274L11.7209 16.8332ZM19.4214 4.04729L16.8628 19.1743L10.5032 14.0629L19.4214 4.04729ZM2.4406 10.911L18.0265 3.5442L9.31911 13.3236L2.4406 10.911Z" stroke-width="0.3"></path>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=i(n(181)),u=i(n(182));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.emojiClick;return(0,r.h)("div",{className:"emoji-panel"},(0,r.h)(u.default,null),(0,r.h)(o.default,{emojiClick:t}))};t.default=a},function(e,t,n){"use strict";n(54),n(38),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=(0,n(5).connect)(["emojiCategories","activeEmojiTab"])((function(e){var t=e.emojiClick,n=e.emojiCategories,o=e.activeEmojiTab;return(0,r.h)("div",{className:"emoji-panel__categories-body"},n.map((function(e){return e.name===o&&(0,r.h)("div",{className:"emoji-panel__category"},e.emojis.map((function(e){return(0,r.h)("div",{className:"emoji-panel__emoji",onClick:function(){t(event,e)}},(0,r.h)("div",{className:"emoji-panel__emoji-icon icon-".concat(e)}))})))})))}));t.default=o},function(e,t,n){"use strict";n(54),n(38),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(5),u=n(13),i=(0,o.connect)(["emojiCategories","activeEmojiTab"],u.actions)((function(e){var t=e.emojiCategories,n=e.chooseEmojiCategory,o=e.activeEmojiTab,u=e.hideEmojiPanel;return(0,r.h)("div",{className:"emoji-panel__header"},t.map((function(e){return(0,r.h)("div",{onClick:function(){n(e.name)},className:"emoji-panel__category-icon ".concat(o===e.name&&"emoji-panel__category-icon_active")},(0,r.h)("div",{className:"emoji-panel__category-emoji icon-".concat(e.icon)}))})),(0,r.h)("div",{onClick:function(){u()},className:"emoji-panel__close-btn"},"×"))}));t.default=i},function(e,t,n){"use strict";n.r(t),t.default='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9 0C8.44771 0 8 0.447716 8 1V8H1C0.447715 8 0 8.44771 0 9C0 9.55229 0.447716 10 1 10H8V17C8 17.5523 8.44771 18 9 18C9.55229 18 10 17.5523 10 17V10H17C17.5523 10 18 9.55229 18 9C18 8.44771 17.5523 8 17 8H10V1C10 0.447715 9.55229 0 9 0Z" fill="#565E6E"/>\n</svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(5),u=n(13),i=(0,o.connect)(["translates","isAgentAssigned"],u.actions)((function(e){var t=e.translates,n=e.setUIAppState;return(0,r.h)("div",{onClick:function(){n("feedback")},className:"issue-resolve-btn"},t.messages.issueResolveText)}));t.default=i},function(e,t,n){"use strict";n(17),n(18),n(21),n(28),n(19),n(25),n(9),n(22),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(0),u=n(5),i=n(13),a=(r=n(121))&&r.__esModule?r:{default:r};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,s(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,(r=[{key:"render",value:function(e){var t=this,n=e.agent,r=e.translates,u=e.baseUrl;return(0,o.h)("div",{className:"agent-card"},(0,o.h)("div",{className:"agent-card__avatar"},(0,o.h)("img",{src:"".concat(u,"/").concat(n.agentAvatar),className:"agent-card__avatar-img"})),(0,o.h)("div",{className:"agent-card__info"},(0,o.h)("div",{className:"agent-card__name"},n.agentName),(0,o.h)("div",{className:"agent-card__position"},r.agent.position)),(0,o.h)(a.default,{containerClass:"agent-card",rateUpHandler:function(){t.props.rateAgent(100,null,!1)},rateDownHandler:function(){t.props.rateAgent(0,null,!1)}}))}}])&&c(n.prototype,r),u&&c(n,u),t}(o.Component),h=(0,u.connect)(["baseUrl","agent","translates"],i.actions)(p);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=i(n(187)),u=i(n(118));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){return(0,r.h)("div",{className:"mia-chat",id:"mia-chat"},(0,r.h)(o.default,null),(0,r.h)(u.default,null))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=(0,n(5).connect)("translates")((function(e){var t=e.translates.pages.front,n=t.text,o=t.title;return(0,r.h)("div",{className:"greeting"},(0,r.h)("div",{className:"greeting__heading"},(0,r.h)("div",{className:"greeting__title"},o),(0,r.h)("div",{className:"greeting__subtitle"},n)),(0,r.h)("div",{className:"greeting__img"}))}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=i(n(189)),u=i(n(190));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){return(0,r.h)("div",{className:"mia-chat",id:"mia-chat"},(0,r.h)(u.default,null),(0,r.h)(o.default,null))};t.default=a},function(e,t,n){"use strict";n(17),n(18),n(21),n(19),n(25),n(9),n(22),n(23),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(5),u=n(13),i=n(71),a=c(n(121)),f=c(n(120));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,p(t).call(this,e))).state={feedbackHasError:!1,feedbackText:""},n}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(o=[{key:"feedbackChangeHandler",value:function(){this.setState({feedbackText:this.textarea.value});var e=this.state.feedbackText.length>this.props.validations.maxFeedbackLength;this.setState({feedbackHasError:e}),(0,i.saveInfoToLocalStorage)({feedbackText:this.textarea.value})}},{key:"rateHandler",value:function(e){this.props.rateAgent(e,this.state.feedbackText,!0)}},{key:"feedbackSubmit",value:function(){this.state.feedbackHasError||(this.props.rateAgent(this.props.agent.rate,this.state.feedbackText,!0),this.props.endChat())}},{key:"render",value:function(e){var t=this,n=e.translates.pages.feedback,o=n.title,u=n.placeholder,i=n.skip;return(0,r.h)("div",{className:"feedback-form"},(0,r.h)("div",{className:"feedback-form__header"},(0,r.h)("div",{className:"feedback-form__title"},o),(0,r.h)(a.default,{containerClass:"feedback-form",rateUpHandler:function(){t.rateHandler(100)},rateDownHandler:function(){t.rateHandler(0)}})),(0,r.h)("div",{className:"feedback-form__body"},(0,r.h)("textarea",{onChange:function(){t.feedbackChangeHandler()},onKeyUp:function(){t.feedbackChangeHandler()},onPaste:function(){t.feedbackChangeHandler()},onInput:function(){t.feedbackChangeHandler()},ref:function(e){t.textarea=e},className:"feedback-form__textarea ".concat(this.state.feedbackHasError?"error":""),placeholder:u})),(0,r.h)("div",{className:"feedback-form__footer"},(0,r.h)("button",{onClick:function(){t.props.endChat()},className:"feedback-form__skip"},i),(0,r.h)(f.default,{clickHandler:function(){t.feedbackSubmit()},buttonClass:"feedback-form"})))}}])&&s(n.prototype,o),u&&s(n,u),t}(r.Component),g=(0,o.connect)(["validations","translates","agent"],u.actions)(v);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=(0,n(5).connect)(["translates"])((function(e){var t=e.translates.pages.feedback.text;return(0,r.h)("div",{className:"feedback-poster"},(0,r.h)("div",{className:"feedback-poster__title"},t),(0,r.h)("div",{className:"feedback-poster__bg"}))}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=(0,n(5).connect)(["preChatUrl"])((function(e){var t=e.preChatUrl;return(0,r.h)("div",{className:"mia-chat",id:"mia-chat"},(0,r.h)("div",{className:"prechat-poster"}),(0,r.h)("iframe",{src:t,className:"prechat-iframe"}))}));t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(0),u=(r=n(193))&&r.__esModule?r:{default:r};var i=function(e){var t=e.clickHandler;return(0,o.h)("div",{onClick:t,innerHTML:u.default,className:"close-button"})};t.default=i},function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n    <path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"></path>\n</svg>'}]);